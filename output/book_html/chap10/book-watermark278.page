<div id="pf116" class="pf w0 h0" data-page-no="116"><div class="pc pc116 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg116.png"/><div class="t m0 x42 hf y32 ff2 fs0 fc1 sc0 ls0 ws0">266<span class="_ _13"> </span><span class="ffb">Sequence<span class="_ _8"> </span>Mining</span></div><div class="t m0 x7c h4 y93 ff9 fs2 fc1 sc0 ls0 ws0">Algorithm<span class="_ _9"> </span>10.2:<span class="_ _9"> </span><span class="ff3">Algorithm<span class="_ _8"> </span>S<span class="_ _7"></span><span class="fs5">P<span class="_ _e"></span>A<span class="_ _7"></span>D<span class="_ _e"></span>E</span></span></div><div class="t m0 x7d h1c y105 ffe fs2 fc1 sc0 ls0 ws0">//<span class="_"> </span>Initi<span class="_ _7"></span>al<span class="_"> </span>Call:<span class="_ _3"> </span><span class="ffd">F<span class="_ _c"> </span><span class="ff7">←<span class="_ _4"></span>∅</span></span>,<span class="_"> </span><span class="ff5">k<span class="_ _9"> </span><span class="ff7">←<span class="_ _6"></span><span class="ff3">0<span class="_ _7"></span></span></span></span>,</div><div class="t m0 x21 h9 y106 ff5 fs2 fc1 sc0 ls0 ws0">P<span class="_ _14"> </span><span class="ff7">←</span></div><div class="t m0 x2 h12 y107 ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x80 h1c y106 ff7 fs2 fc1 sc0 ls0 ws0">h<span class="ff5">s<span class="_ _7"></span>,<span class="_ _0"></span><span class="ffd">L</span>(s<span class="_ _7"></span>)</span>i<span class="_ _9"> </span>|<span class="_ _4"></span><span class="ff5">s<span class="_ _9"> </span></span>∈<span class="_ _4"> </span><span class="ff5">6<span class="_ _e"></span>,<span class="_ _e"></span><span class="ff6">sup</span>(s<span class="_ _e"></span>)<span class="_ _4"> </span></span>≥<span class="_ _4"> </span><span class="ff6">minsup</span></div><div class="t m0 x72 h12 y107 ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x7d h1c y108 ff8 fs2 fc1 sc0 ls0 ws0">S<span class="fs5">P<span class="_ _e"></span>A<span class="_ _7"></span>D<span class="_ _e"></span>E<span class="_ _9"> </span></span>(<span class="ff5">P<span class="_ _f"> </span></span>,<span class="_ _9"> </span><span class="ff6">minsup</span>,<span class="_ _9"> </span><span class="ffd">F<span class="_ _0"></span></span>,<span class="_ _8"> </span><span class="ff5">k<span class="_ _e"></span></span>):</div><div class="t m0 x5b h10 y109 ff8 fsb fc1 sc0 ls0 ws0">1<span class="_ _3"> </span><span class="fs2">foreach<span class="_ _9"> </span>r</span></div><div class="t m0 x2 h8 y10a ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x9d h9 y109 ff7 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _4"></span><span class="ff5">P<span class="_ _2"> </span><span class="ff8">do</span></span></div><div class="t m0 x5b h1c y10b ff8 fsb fc1 sc0 ls0 ws0">2<span class="_ _1c"> </span><span class="ffd fs2">F<span class="_ _b"> </span><span class="ff7">←<span class="_ _4"> </span></span>F<span class="_ _9"> </span><span class="ff7">∪</span></span></div><div class="t m0 x39 h12 y10c ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x84 h10 y10b ff5 fs2 fc1 sc0 ls0 ws0">(<span class="ff8">r</span></div><div class="t m0 x64 h8 y10d ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x66 h1d y10b ff5 fs2 fc1 sc0 ls0 ws0">,<span class="_ _0"></span><span class="ff6">sup</span>(<span class="ff8">r</span></div><div class="t m0 x46 h8 y10d ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x47 h7 y10b ff5 fs2 fc1 sc0 ls0 ws0">))</div><div class="t m0 x70 h12 y10c ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x5b h7 y10e ff8 fsb fc1 sc0 ls0 ws0">3<span class="_ _1c"> </span><span class="ff5 fs2">P</span></div><div class="t m0 x9e h8 y10f ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x5e h9 y10e ff7 fs2 fc1 sc0 ls0 ws0">←<span class="_ _4"></span>∅</div><div class="t m0 x5b h10 y110 ff8 fsb fc1 sc0 ls0 ws0">4<span class="_ _1c"> </span><span class="fs2">foreach<span class="_ _8"> </span>r</span></div><div class="t m0 x5 h8 y111 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x84 h9 y110 ff7 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _4"> </span><span class="ff5">P<span class="_ _2"> </span><span class="ff8">do</span></span></div><div class="t m0 x5b h10 y112 ff8 fsb fc1 sc0 ls0 ws0">5<span class="_ _1d"> </span><span class="fs2">r</span></div><div class="t m0 x5d h8 y113 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 x82 h9 y112 ff7 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff8">r</span></div><div class="t m0 x6 h8 y113 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x7 h9 y112 ff7 fs2 fc1 sc0 ls0 ws0">+<span class="_ _f"></span><span class="ff8">r</span></div><div class="t m0 x9f h8 y113 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x37 h4 y112 ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>]</div><div class="t m0 x5b h1c y114 ff8 fsb fc1 sc0 ls0 ws0">6<span class="_ _1d"> </span><span class="ffd fs2">L<span class="ff5">(<span class="ff8">r</span></span></span></div><div class="t m0 x9d h8 y115 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 xa0 h1c y114 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="_ _4"> </span><span class="ff7">=<span class="_ _4"></span><span class="ffd">L</span></span>(<span class="ff8">r</span></div><div class="t m0 x9 h8 y115 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x44 h1c y114 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="_ _f"> </span><span class="ff7">∩<span class="_ _6"></span><span class="ffd">L</span></span>(<span class="ff8">r</span></div><div class="t m0 x95 h8 y115 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x71 h7 y114 ff5 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 x5b h1d y116 ff8 fsb fc1 sc0 ls0 ws0">7<span class="_ _1d"> </span><span class="fs2">if<span class="_ _8"> </span><span class="ff6">sup<span class="ff5">(</span></span>r</span></div><div class="t m0 x84 h8 y117 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 xa1 h9 y116 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="_ _4"> </span><span class="ff7">≥<span class="_ _6"></span><span class="ff6">minsup<span class="_ _9"> </span><span class="ff8">then</span></span></span></div><div class="t m0 xa2 h7 y118 ff8 fsb fc1 sc0 ls0 ws0">8<span class="_ _1e"> </span><span class="ff5 fs2">P</span></div><div class="t m0 xa0 h8 y119 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x6 h9 y118 ff7 fs2 fc1 sc0 ls0 ws0">←<span class="_ _4"></span><span class="ff5">P</span></div><div class="t m0 x9f h8 y119 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x6b h9 y118 ff7 fs2 fc1 sc0 ls0 ws0">∪</div><div class="t m0 x45 h12 y11a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x28 h9 y118 ff7 fs2 fc1 sc0 ls0 ws0">h<span class="ff8">r</span></div><div class="t m0 x47 h8 y119 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 x70 h1c y118 ff5 fs2 fc1 sc0 ls0 ws0">,<span class="_ _0"></span><span class="ffd">L</span>(<span class="ff8">r</span></div><div class="t m0 xa3 h8 y119 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 x8b h9 y118 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="ff7">i</span></div><div class="t m0 x4c h12 y11a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x5b h10 y11b ff8 fsb fc1 sc0 ls0 ws0">9<span class="_ _1c"> </span><span class="fs2">if<span class="_ _8"> </span><span class="ff5">P</span></span></div><div class="t m0 x74 h8 y11c ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x8c h4 y11b ff7 fs2 fc1 sc0 ls0 ws0">6=<span class="_ _4"></span>∅<span class="_ _9"> </span><span class="ff8">then<span class="_ _3"> </span><span class="ff3">S<span class="_ _7"></span><span class="fs5">P<span class="_ _e"></span>A<span class="_ _7"></span>D<span class="_ _e"></span>E<span class="_ _9"> </span></span>(<span class="ff5">P</span></span></span></div><div class="t m0 xa4 h8 y11c ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 xb h1c y11b ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _8"> </span><span class="ff6">minsup</span>,<span class="_ _9"> </span><span class="ffd">F<span class="_ _0"></span></span>,<span class="_ _8"> </span><span class="ff5">k<span class="_ _4"> </span><span class="ff7">+<span class="_ _6"></span></span></span>1)</div><div class="t m0 x57 h4 y11d ff3 fs2 fc1 sc0 ls0 ws0">For<span class="_ _12"> </span>example,<span class="_ _3"> </span>for<span class="_ _12"> </span>sequence<span class="_ _3"> </span><span class="ff6">GT</span>,<span class="_ _12"> </span>we<span class="_ _3"> </span>find<span class="_ _12"> </span>that<span class="_ _3"> </span>it<span class="_ _12"> </span>is<span class="_ _3"> </span>a<span class="_ _12"> </span>subsequence<span class="_ _12"> </span>of<span class="_ _3"> </span><span class="ff8">s</span></div><div class="t m0 x7a h6 y11e ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x1e h4 y11d ff3 fs2 fc1 sc0 ls0 ws0">and<span class="_ _3"> </span><span class="ff8">s</span></div><div class="t m0 x34 h6 y11e ff3 fs4 fc1 sc0 ls0 ws0">3</div><div class="t m0 xa5 h4 y11d ff3 fs2 fc1 sc0 ls0 ws0">.</div><div class="t m0 x57 h4 y11f ff3 fs2 fc1 sc0 ls0 ws0">Even<span class="_ _2"> </span>though<span class="_ _2"> </span>there<span class="_ _2"> </span>a<span class="_"> </span>re<span class="_ _2"> </span>t<span class="_ _7"></span>wo<span class="_ _2"> </span>occurrences<span class="_ _2"> </span>of<span class="_ _2"> </span><span class="ff6">GT<span class="_ _2"> </span></span>in<span class="_ _2"> </span><span class="ff8">s</span></div><div class="t m0 x4f h6 y120 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xa6 h4 y11f ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _2"> </span>the<span class="_ _2"> </span>last<span class="_ _2"> </span>symbol<span class="_ _2"> </span><span class="ff6">T<span class="_ _1"> </span></span>occurs<span class="_ _2"> </span>at</div><div class="t m0 x57 h4 y121 ff3 fs2 fc1 sc0 ls0 ws0">position<span class="_ _1"> </span>7<span class="_ _1"> </span>in<span class="_ _1"> </span>both<span class="_ _1"> </span>occurrence<span class="_ _7"></span>s,<span class="_ _1"> </span>thus<span class="_ _1"> </span>the<span class="_ _1"> </span>poslist<span class="_ _1"> </span>for<span class="_ _1"> </span><span class="ff6">GT<span class="_ _1"> </span></span>ha<span class="_"> </span>s<span class="_ _3"> </span>the<span class="_ _2"> </span>tuple<span class="_ _1"> </span><span class="ff7">h</span>1<span class="ff5">,<span class="_ _0"> </span></span>7<span class="ff7">i</span>.<span class="_ _3"> </span>T<span class="_ _5"></span>he</div><div class="t m0 x57 h1c y122 ff3 fs2 fc1 sc0 ls0 ws0">full<span class="_ _3"> </span>poslist<span class="_ _3"> </span>for<span class="_ _12"> </span><span class="ff6">GT<span class="_ _3"> </span></span>is<span class="_ _3"> </span><span class="ffd">L<span class="ff5">(<span class="ff6">GT</span>)<span class="_ _2"> </span><span class="ff7">=<span class="_ _a"> </span>{h</span></span></span>1<span class="ff5">,<span class="_ _0"> </span></span>7<span class="ff7">i<span class="ff5">,<span class="_ _0"> </span></span>h</span>3<span class="ff5">,<span class="_ _0"></span></span>5<span class="ff7">i}</span>.<span class="_ _12"> </span>T<span class="_ _5"></span>he<span class="_ _3"> </span>support<span class="_ _12"> </span>of<span class="_ _3"> </span><span class="ff6">GT<span class="_ _3"> </span></span>is<span class="_ _3"> </span><span class="ff6">sup<span class="ff5">(</span>GT<span class="ff5">)<span class="_ _2"> </span><span class="ff7">=</span></span></span></div><div class="t m0 x57 h1c y123 ff7 fs2 fc1 sc0 ls0 ws0">|<span class="ffd">L<span class="ff5">(<span class="ff6">GT</span>)</span></span>|<span class="_ _4"></span>=<span class="_ _4"></span><span class="ff3">2.</span></div><div class="t m0 x43 h4 y124 ff3 fs2 fc1 sc0 ls0 ws0">Support<span class="_ _12"> </span>computation<span class="_ _12"> </span>in<span class="_ _12"> </span>Spade<span class="_ _12"> </span>is<span class="_ _12"> </span>done<span class="_ _12"> </span>via<span class="_ _3"> </span><span class="ff6">sequential<span class="_ _12"> </span>join<span class="_ _12"> </span></span>operations.<span class="_ _12"> </span>Given</div><div class="t m0 x42 h4 y125 ff3 fs2 fc1 sc0 ls0 ws0">the<span class="_ _1"> </span>poslists<span class="_ _1"> </span>f<span class="_ _7"></span>or<span class="_ _1"> </span>any<span class="_ _1"> </span>tw<span class="_"> </span>o<span class="_ _3"> </span><span class="ff5">k</span>-<span class="_ _7"></span>sequences<span class="_ _1"> </span><span class="ff8">r</span></div><div class="t m0 xa7 h8 y126 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x8f h4 y125 ff3 fs2 fc1 sc0 ls0 ws0">and<span class="_ _1"> </span><span class="ff8">r</span></div><div class="t m0 x6e h8 y126 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x81 h4 y125 ff3 fs2 fc1 sc0 ls0 ws0">that<span class="_ _1"> </span>share<span class="_ _1"> </span>the<span class="_ _3"> </span>same<span class="_ _1"> </span><span class="ff5">(k<span class="_ _b"> </span><span class="ff7">−<span class="_ _b"> </span></span></span>1<span class="ff5">)<span class="_ _1"> </span></span>lengt<span class="_ _7"></span>h</div><div class="t m0 x42 h4 y127 ff3 fs2 fc1 sc0 ls0 ws0">prefix,<span class="_ _c"> </span>the<span class="_ _c"> </span>idea<span class="_ _c"> </span>is<span class="_ _c"> </span>to<span class="_ _14"> </span>perform<span class="_ _c"> </span>sequential<span class="_ _c"> </span>joins<span class="_ _c"> </span>on<span class="_ _c"> </span>t<span class="_ _7"></span>he<span class="_ _c"> </span>poslists<span class="_ _c"> </span>to<span class="_ _c"> </span>compute<span class="_ _c"> </span>the<span class="_ _c"> </span>support</div><div class="t m0 x42 h4 y128 ff3 fs2 fc1 sc0 ls0 ws0">for<span class="_ _1f"> </span>the<span class="_ _23"> </span>new<span class="_ _1f"> </span><span class="ff5">(k<span class="_ _2"> </span><span class="ff7">+<span class="_ _14"> </span></span></span>1<span class="ff5">)<span class="_ _d"> </span></span>length<span class="_ _d"> </span>candidate<span class="_ _d"> </span>sequence<span class="_ _d"> </span><span class="ff8">r</span></div><div class="t m0 x4e h8 y129 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 x10 h9 y128 ff7 fs2 fc1 sc0 ls0 ws0">=<span class="_ _1"> </span><span class="ff8">r</span></div><div class="t m0 x12 h8 y129 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 xa8 h9 y128 ff7 fs2 fc1 sc0 ls0 ws0">+<span class="_ _c"> </span><span class="ff8">r</span></div><div class="t m0 x2d h8 y129 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 xa9 h4 y128 ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>].<span class="_ _d"> </span>Give<span class="_ _7"></span>n<span class="_ _1f"> </span>a<span class="_ _d"> </span>tuple</div><div class="t m0 x42 h12 y12a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x9a h7 y12b ff5 fs2 fc1 sc0 ls0 ws0">i,<span class="_ _0"></span>po<span class="_ _7"></span>s</div><div class="t m0 x5a h12 y12a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x5b h10 y12b ff8 fs2 fc1 sc0 ls0 ws0">r</div><div class="t m0 x5c h8 y12c ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x7d h4 y12b ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>]</div><div class="t m0 x20 h12 y12a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x22 h1c y12b ff7 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _9"> </span><span class="ffd">L<span class="ff5">(<span class="ff8">r</span></span></span></div><div class="t m0 x82 h8 y12c ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x25 h4 y12b ff5 fs2 fc1 sc0 ls0 ws0">)<span class="ff3">,<span class="_ _c"> </span>w<span class="_"> </span>e<span class="_ _14"> </span>first<span class="_ _14"> </span>che<span class="_ _7"></span>ck<span class="_ _c"> </span>if<span class="_ _14"> </span>t<span class="_ _7"></span>here<span class="_ _c"> </span>ex<span class="_ _7"></span>ists<span class="_ _c"> </span>a<span class="_ _14"> </span>tuple</span></div><div class="t m0 x17 h12 y12a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x2c h7 y12b ff5 fs2 fc1 sc0 ls0 ws0">i,<span class="_ _0"></span>po<span class="_ _7"></span>s</div><div class="t m0 x1c h12 y12a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xaa h10 y12b ff8 fs2 fc1 sc0 ls0 ws0">r</div><div class="t m0 xab h8 y12c ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 xac h4 y12b ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>]</div><div class="t m0 x30 h12 y12a ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x79 h1c y12b ff7 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _9"> </span><span class="ffd">L<span class="ff5">(<span class="ff8">r</span></span></span></div><div class="t m0 x99 h8 y12c ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x98 h4 y12b ff5 fs2 fc1 sc0 ls0 ws0">)<span class="ff3">,<span class="_ _c"> </span>t<span class="_ _7"></span>hat</span></div><div class="t m0 x42 h4 y12d ff3 fs2 fc1 sc0 ls0 ws0">is,<span class="_ _3"> </span>both<span class="_ _12"> </span>s<span class="_ _5"></span>equences<span class="_ _12"> </span>mus<span class="_ _5"></span>t<span class="_ _3"> </span>occ<span class="_"> </span>ur<span class="_ _12"> </span>in<span class="_ _3"> </span>the<span class="_ _3"> </span>sa<span class="_ _7"></span>me<span class="_ _3"> </span>data<span class="_ _7"></span>base<span class="_ _3"> </span>sequence<span class="_ _3"> </span><span class="ff8">s</span></div><div class="t m0 xad h8 y12e ff5 fs4 fc1 sc0 ls0 ws0">i</div><div class="t m0 x69 h4 y12d ff3 fs2 fc1 sc0 ls0 ws0">.<span class="_ _3"> </span>Nex<span class="_ _7"></span>t,<span class="_ _3"> </span>for<span class="_ _3"> </span>e<span class="_ _7"></span>ach</div><div class="t m0 x42 h4 y12f ff3 fs2 fc1 sc0 ls0 ws0">position<span class="_ _3"> </span><span class="ff5">p<span class="_ _1"> </span><span class="ff7">∈<span class="_ _2"> </span></span>p<span class="_ _7"></span>o<span class="_ _7"></span>s</span></div><div class="t m0 x2 h12 y130 ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x80 h10 y12f ff8 fs2 fc1 sc0 ls0 ws0">r</div><div class="t m0 x8d h8 y131 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x4 h4 y12f ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>]</div><div class="t m0 x7 h12 y130 ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x85 h4 y12f ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _12"> </span>we<span class="_ _3"> </span>check<span class="_ _12"> </span>whether<span class="_ _12"> </span>there<span class="_ _3"> </span>exists<span class="_ _12"> </span>a<span class="_ _12"> </span>pos<span class="_ _5"></span>ition<span class="_ _12"> </span><span class="ff5">q<span class="_ _1"> </span><span class="ff7">∈<span class="_ _2"> </span></span>p<span class="_ _7"></span>o<span class="_ _7"></span>s</span></div><div class="t m0 x98 h12 y130 ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xae h10 y12f ff8 fs2 fc1 sc0 ls0 ws0">r</div><div class="t m0 x3c h8 y131 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 xaf h4 y12f ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>]</div><div class="t m0 xb0 h12 y130 ffc fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x42 h4 y132 ff3 fs2 fc1 sc0 ls0 ws0">such<span class="_ _12"> </span>that<span class="_ _1f"> </span><span class="ff5">q<span class="_ _12"> </span>&lt;<span class="_ _2"> </span>p<span class="_ _7"></span></span>.<span class="_ _1f"> </span>If<span class="_ _1f"> </span>ye<span class="_"> </span>s,<span class="_ _1f"> </span>this<span class="_ _1f"> </span>means<span class="_ _1f"> </span>that<span class="_ _12"> </span>t<span class="_ _7"></span>he<span class="_ _12"> </span>sy<span class="_ _7"></span>mbol<span class="_ _12"> </span><span class="ff8">r</span></div><div class="t m0 x11 h8 y133 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x2c h4 y132 ff3 fs2 fc1 sc0 ls0 ws0">[<span class="ff5">k<span class="_ _7"></span></span>]<span class="_ _1f"> </span>occurs<span class="_ _1f"> </span>aft<span class="_ _7"></span>er<span class="_ _12"> </span>the<span class="_ _1f"> </span>last</div><div class="t m0 x42 h4 y134 ff3 fs2 fc1 sc0 ls0 ws0">position<span class="_ _2"> </span>of<span class="_ _2"> </span><span class="ff8">r</span></div><div class="t m0 x73 h8 y135 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x23 h4 y134 ff3 fs2 fc1 sc0 ls0 ws0">and<span class="_ _2"> </span>thus<span class="_ _2"> </span>we<span class="_ _2"> </span>retain<span class="_ _2"> </span><span class="ff5">p<span class="_ _1"> </span></span>as<span class="_ _2"> </span>a<span class="_ _2"> </span>valid<span class="_ _2"> </span>occurrence<span class="_ _2"> </span>of<span class="_ _2"> </span><span class="ff8">r</span></div><div class="t m0 xb1 h8 y135 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 xa9 h1c y134 ff3 fs2 fc1 sc0 ls0 ws0">.<span class="_ _2"> </span>The<span class="_ _2"> </span>poslist<span class="_ _2"> </span><span class="ffd">L<span class="ff5">(<span class="ff8">r</span></span></span></div><div class="t m0 xb2 h8 y135 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 xb0 h7 y134 ff5 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 x42 h4 y136 ff3 fs2 fc1 sc0 ls0 ws0">comprises<span class="_ _1"> </span>all<span class="_ _1"> </span>such<span class="_ _1"> </span>v<span class="_ _7"></span>alid<span class="_ _1"> </span>occurrences.<span class="_ _1"> </span>N<span class="_ _7"></span>otice<span class="_ _1"> </span>how<span class="_ _1"> </span>we<span class="_ _1"> </span>ke<span class="_ _7"></span>ep<span class="_ _1"> </span>track<span class="_ _3"> </span>of<span class="_ _1"> </span>positions<span class="_ _1"> </span>only</div><div class="t m0 x42 h4 y137 ff3 fs2 fc1 sc0 ls0 ws0">for<span class="_ _14"> </span>the<span class="_ _a"> </span>last<span class="_ _14"> </span>sy<span class="_"> </span>mbol<span class="_ _a"> </span>in<span class="_ _a"> </span>the<span class="_ _14"> </span>ca<span class="_ _7"></span>ndidate<span class="_ _14"> </span>sequence<span class="_ _7"></span>.<span class="_ _14"> </span>This<span class="_ _14"> </span>is<span class="_ _a"> </span>because<span class="_ _a"> </span>we<span class="_ _14"> </span>e<span class="_"> </span>x<span class="_ _7"></span>tend<span class="_ _14"> </span>sequence<span class="_ _7"></span>s</div><div class="t m0 x42 h4 y138 ff3 fs2 fc1 sc0 ls0 ws0">from<span class="_ _3"> </span>a<span class="_ _3"> </span>common<span class="_ _1"> </span>prefix<span class="_ _7"></span>,<span class="_ _3"> </span>so<span class="_ _3"> </span>there<span class="_ _1"> </span>is<span class="_ _3"> </span>no<span class="_ _3"> </span>need<span class="_ _3"> </span>to<span class="_ _3"> </span>keep<span class="_ _3"> </span>track<span class="_ _1"> </span>of<span class="_ _3"> </span>all<span class="_ _3"> </span>the<span class="_ _3"> </span>occurrences</div><div class="t m0 x42 h1c y83 ff3 fs2 fc1 sc0 ls0 ws0">of<span class="_ _3"> </span>t<span class="_ _7"></span>he<span class="_ _3"> </span>symbols<span class="_ _12"> </span>in<span class="_ _3"> </span>the<span class="_ _12"> </span>prefix.<span class="_ _3"> </span>We<span class="_ _12"> </span>denote<span class="_ _3"> </span>t<span class="_ _7"></span>he<span class="_ _3"> </span>sequentia<span class="_ _7"></span>l<span class="_ _3"> </span>join<span class="_ _12"> </span>as<span class="_ _3"> </span><span class="ffd">L<span class="ff5">(<span class="ff8">r</span></span></span></div><div class="t m0 x38 h8 y139 ff5 fs4 fc1 sc0 ls0 ws0">a<span class="_ _7"></span>b</div><div class="t m0 xb3 h1c y83 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="_ _2"> </span><span class="ff7">=<span class="_ _2"> </span><span class="ffd">L</span></span>(<span class="ff8">r</span></div><div class="t m0 xb4 h8 y139 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 xb5 h9 y83 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="_ _b"> </span><span class="ff7">∩</span></div><div class="t m0 x42 h1c y86 ffd fs2 fc1 sc0 ls0 ws0">L<span class="ff5">(<span class="ff8">r</span></span></div><div class="t m0 x62 h8 y13a ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x43 h4 y86 ff5 fs2 fc1 sc0 ls0 ws0">)<span class="ff3">.</span></div><div class="t m0 x43 h4 y13b ff3 fs2 fc1 sc0 ls0 ws0">The<span class="_ _a"> </span>main<span class="_ _2"> </span>adva<span class="_ _7"></span>ntage<span class="_ _a"> </span>of<span class="_ _2"> </span>the<span class="_ _a"> </span>ve<span class="_ _7"></span>rtical<span class="_ _a"> </span>approach<span class="_ _2"> </span>is<span class="_ _a"> </span>that<span class="_ _2"> </span>it<span class="_ _2"> </span>enables<span class="_ _a"> </span>different<span class="_ _2"> </span>search</div><div class="t m0 x42 h4 y89 ff3 fs2 fc1 sc0 ls0 ws0">strategies<span class="_ _1"> </span>over<span class="_ _1"> </span>the<span class="_ _1"> </span>sequence<span class="_ _1"> </span>search<span class="_ _1"> </span>space,<span class="_ _1"> </span>including<span class="_ _1"> </span>breadth<span class="_ _3"> </span>or<span class="_ _2"> </span>dept<span class="_"> </span>h-<span class="_ _7"></span>first<span class="_ _1"> </span>search.</div><div class="t m0 x42 h4 y13c ff3 fs2 fc1 sc0 ls0 ws0">Algorithm<span class="_ _a"> </span>10.<span class="_"> </span>2<span class="_ _2"> </span>shows<span class="_ _a"> </span>t<span class="_"> </span>he<span class="_ _2"> </span>pseudo-code<span class="_ _a"> </span>for<span class="_ _2"> </span>Spade.<span class="_ _a"> </span>Give<span class="_ _7"></span>n<span class="_ _a"> </span>a<span class="_ _2"> </span>set<span class="_ _a"> </span>of<span class="_ _2"> </span>sequences<span class="_ _a"> </span><span class="ff5">P<span class="_ _12"> </span></span>tha<span class="_"> </span>t</div><div class="t m0 x42 h4 y13d ff3 fs2 fc1 sc0 ls0 ws0">share<span class="_ _1"> </span>t<span class="_ _7"></span>he<span class="_ _1"> </span>sa<span class="_"> </span>me<span class="_ _3"> </span>prefix,<span class="_ _3"> </span>along<span class="_ _1"> </span>w<span class="_"> </span>it<span class="_ _7"></span>h<span class="_ _1"> </span>the<span class="_ _7"></span>ir<span class="_ _3"> </span>pos<span class="_ _5"></span>lists,<span class="_ _3"> </span>the<span class="_ _1"> </span>me<span class="_"> </span>t<span class="_ _7"></span>hod<span class="_ _1"> </span>crea<span class="_"> </span>t<span class="_ _7"></span>es<span class="_ _1"> </span>a<span class="_ _3"> </span>new<span class="_ _3"> </span>prefix</div><div class="t m0 x42 h4 y13e ff3 fs2 fc1 sc0 ls0 ws0">equivalence<span class="_ _2"> </span>class<span class="_ _2"> </span><span class="ff5">P</span></div><div class="t m0 x25 h8 y13f ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x39 h4 y13e ff3 fs2 fc1 sc0 ls0 ws0">for<span class="_ _2"> </span>each<span class="_ _2"> </span>sequence<span class="_ _2"> </span><span class="ff8">r</span></div><div class="t m0 x4c h8 y13f ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x52 h4 y13e ff7 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _c"> </span><span class="ff5">P<span class="_ _1f"> </span><span class="ff3">by<span class="_ _2"> </span>performing<span class="_ _2"> </span>sequential<span class="_ _2"> </span>joins<span class="_ _1"> </span>with</span></span></div><div class="t m0 x42 h4 y140 ff3 fs2 fc1 sc0 ls0 ws0">every<span class="_ _9"> </span>sequence<span class="_ _9"> </span><span class="ff8">r</span></div><div class="t m0 x5d h8 y141 ff5 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 x24 h4 y140 ff7 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _4"> </span><span class="ff5">P<span class="_ _6"> </span><span class="ff3">,<span class="_ _9"> </span>including<span class="_ _b"> </span>self-joins.<span class="_ _9"> </span>A<span class="_ _7"></span>fter<span class="_ _9"> </span>removing<span class="_ _b"> </span>the<span class="_ _9"> </span>infrequent<span class="_ _b"> </span>ext<span class="_ _7"></span>ensions,</span></span></div><div class="t m0 x42 h4 y142 ff3 fs2 fc1 sc0 ls0 ws0">the<span class="_ _8"> </span>new<span class="_ _9"> </span>equivalence<span class="_ _8"> </span>cla<span class="_ _7"></span>ss<span class="_ _8"> </span><span class="ff5">P</span></div><div class="t m0 x37 h8 y143 ff5 fs4 fc1 sc0 ls0 ws0">a</div><div class="t m0 x44 h4 y142 ff3 fs2 fc1 sc0 ls0 ws0">is<span class="_ _8"> </span>the<span class="_"> </span>n<span class="_ _9"> </span>processed<span class="_ _9"> </span>recursively.</div><div class="c x3d y2c w2 hb"><div class="t m1 x3e hc y2d ffa fs6 fc1 sc0 ls0 ws0"><span class="fc4 sc0">For Online Reading </span><span class="fc4 sc0">Only</span></div></div><div class="c x3f y2e w3 hd"><div class="t m0 x40 he y2f ffa fs7 fc3 sc0 ls0 ws0">This version is for online reading only. Unauthorized distribution is not allowed. </div><div class="t m0 x0 he y30 ffa fs7 fc3 sc0 ls0 ws0">Please cite the book if you find it useful, and leave a review on online platforms.<span class="fc4 sc0"> </span></div><div class="t m0 x41 he y31 ffa fs7 fc3 sc0 ls0 ws0">Please report all errata to contact@dataminingbook.info</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
