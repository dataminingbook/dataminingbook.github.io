<div id="pf2d0" class="pf w0 h0" data-page-no="2d0"><div class="pc pc2d0 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg2d0.png"/><div class="t m0 x3 h10 y6a ff2 fs0 fc1 sc0 ls0 ws0">708<span class="_ _13"> </span><span class="ffd">Deep<span class="_ _4"> </span>Learning</span></div><div class="t m0 x3 h4 y201 ff3 fs2 fc1 sc0 ls0 ws0">Let<span class="_ _9"> </span>last<span class="_ _3"> </span>step<span class="_ _9"> </span>follows<span class="_ _9"> </span>from<span class="_ _9"> </span>the<span class="_ _9"> </span>fa<span class="_"> </span>c<span class="_ _5"></span>t<span class="_ _3"> </span>that<span class="_ _9"> </span><span class="ff7">∂<span class="_ _f"></span><span class="ff6">f</span></span></div><div class="t m0 x83 h8 y35d ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xdf h4 y201 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _4"> </span><span class="ff6">1<span class="ff3">,<span class="_ _9"> </span>since<span class="_ _9"> </span>max-pooling<span class="_ _9"> </span>implicitly<span class="_ _9"> </span>uses<span class="_ _9"> </span>an</span></span></div><div class="t m0 x3 h4 y202 ff3 fs2 fc1 sc0 ls0 ws0">identity<span class="_ _8"> </span>act<span class="_ _5"></span>ivation<span class="_ _10"> </span>f<span class="_ _5"></span>unction.<span class="_ _8"> </span>Note<span class="_ _8"> </span>t<span class="_ _5"></span>hat<span class="_ _8"> </span>we<span class="_ _8"> </span>also<span class="_ _6"> </span>implicitly<span class="_ _8"> </span>reshape<span class="_ _6"> </span>the<span class="_ _8"> </span>net<span class="_ _6"> </span>gradient<span class="_ _8"> </span>vec<span class="_ _5"></span>tor</div><div class="t m0 x3 h25 y206 ff10 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 x75 h8 y5d0 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x6e h4 y206 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _4"> </span>so<span class="_ _4"> </span>that<span class="_ _4"> </span>its<span class="_ _6"> </span>size<span class="_ _2"> </span>is</div><div class="t m0 xb2 h20 y2e0 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x30 h14 y206 ff7 fs2 fc1 sc0 ls0 ws0">(n</div><div class="t m0 xc0 h8 y207 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xca h14 y206 ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 xa9 h8 yb12 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xd6 ha y206 ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _10"></span><span class="ff7">n</span></div><div class="t m0 x4d h8 y207 ff3 fs4 fc1 sc0 ls0 ws0">3</div><div class="t m0 x35 h20 y2e0 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xe1 ha y206 ff8 fs2 fc1 sc0 ls0 ws0">×</div><div class="t m0 xa1 h20 y2e0 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x78 h14 y206 ff7 fs2 fc1 sc0 ls0 ws0">n</div><div class="t m0 xf4 h8 y207 ff3 fs4 fc1 sc0 ls0 ws0">3</div><div class="t m0 x50 h4 y206 ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _10"></span><span class="ff3">1</span></div><div class="t m0 x32 h20 y2e0 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x61 ha y206 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff7">(n</span></div><div class="t m0 x52 h8 y207 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x14 h14 y206 ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 x15 h8 yb12 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x65 h4 y206 ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _10"></span><span class="ff3">1<span class="_ _6"> </span></span>=<span class="_ _6"></span><span class="ff7">n</span></div><div class="t m0 x24 h8 y207 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x25 ha y206 ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _10"></span><span class="ff7">n</span></div><div class="t m0 x26 h8 y207 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x106 h4 y206 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _4"> </span>as<span class="_ _4"> </span>desired.</div><div class="t m0 x6 h4 y208 ff3 fs2 fc1 sc0 ls0 ws0">Consider<span class="_ _3"> </span>the<span class="_ _3"> </span>net<span class="_ _3"> </span>g<span class="_ _5"></span>radient<span class="_ _3"> </span><span class="ff7">δ</span></div><div class="t m0 x103 h8 yb13 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xc2 h6 yb14 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x4f h4 y208 ff3 fs2 fc1 sc0 ls0 ws0">at<span class="_ _3"> </span>neuron<span class="_ _3"> </span><span class="ff7">z</span></div><div class="t m0 x64 h8 yb13 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x64 h6 yb14 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x15 h4 y208 ff3 fs2 fc1 sc0 ls0 ws0">in<span class="_ _3"> </span>layer<span class="_ _3"> </span><span class="ff7">l<span class="_ _3"> </span><span class="ff8">=<span class="_ _4"> </span></span></span>1<span class="_ _3"> </span>where<span class="_ _3"> </span><span class="ff7">i,<span class="_ _0"> </span>j<span class="_ _a"> </span><span class="ff8">=<span class="_ _2"> </span></span></span>1<span class="ff7">,<span class="_ _0"></span></span>2<span class="ff7">,<span class="_ _0"></span><span class="ff8">·<span class="_ _0"></span>·<span class="_ _0"></span>·<span class="_ _6"> </span></span>,<span class="_ _0"> </span>n</span></div><div class="t m0 x10d h8 y209 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x11 h4 y208 ff3 fs2 fc1 sc0 ls0 ws0">.</div><div class="t m0 x3 h4 y20a ff3 fs2 fc1 sc0 ls0 ws0">Since<span class="_ _3"> </span>we<span class="_ _3"> </span>assume<span class="_ _9"> </span>that<span class="_ _3"> </span>the<span class="_ _9"> </span>stride<span class="_ _3"> </span><span class="ff7">s</span></div><div class="t m0 xa1 h8 y428 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x79 h4 y20a ff3 fs2 fc1 sc0 ls0 ws0">equals<span class="_ _3"> </span>the<span class="_ _9"> </span>ﬁlter<span class="_ _3"> </span>size<span class="_ _3"> </span><span class="ff7">k</span></div><div class="t m0 x25 h8 y428 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x101 h4 y20a ff3 fs2 fc1 sc0 ls0 ws0">for<span class="_ _3"> </span>the<span class="_ _3"> </span>ma<span class="_ _5"></span>x-pooling<span class="_ _3"> </span>layer,</div><div class="t m0 x3 h4 y429 ff3 fs2 fc1 sc0 ls0 ws0">each<span class="_ _9"> </span>sliding<span class="_ _a"> </span>window<span class="_ _a"> </span>in<span class="_ _a"> </span>the<span class="_ _a"> </span>convolution<span class="_ _a"> </span>layer<span class="_ _a"> </span>contributes<span class="_ _9"> </span>only<span class="_ _a"> </span>to<span class="_ _a"> </span>one<span class="_ _a"> </span>neuron<span class="_ _a"> </span>at<span class="_ _a"> </span>the</div><div class="t m0 x3 h4 y42a ff3 fs2 fc1 sc0 ls0 ws0">max-pooling<span class="_ _2"> </span>lay<span class="_ _5"></span>er.<span class="_ _2"> </span>Given<span class="_ _2"> </span>stride<span class="_ _3"> </span><span class="ff7">s</span></div><div class="t m0 xa1 h8 y42b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xbe ha y42a ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _4"> </span><span class="ff7">k</span></div><div class="t m0 x81 h8 y42b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xde h4 y42a ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff7">k</span></div><div class="t m0 x64 h8 y42b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x14 ha y42a ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _8"></span><span class="ff7">k</span></div><div class="t m0 x38 h8 y42b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x87 h4 y42a ff3 fs2 fc1 sc0 ls0 ws0">sliding<span class="_ _2"> </span>window<span class="_ _3"> </span>that<span class="_ _2"> </span>contains<span class="_ _3"> </span><span class="ff7">z</span></div><div class="t m0 x109 h8 yb15 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x7c h6 yb16 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x10d h4 y42a ff3 fs2 fc1 sc0 ls0 ws0">is</div><div class="t m0 x3 h4 y369 ff3 fs2 fc1 sc0 ls0 ws0">given<span class="_ _4"> </span>as<span class="_ _4"> </span><span class="ff6">Z</span></div><div class="t m0 xd3 h8 yb17 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xd3 h6 y68c ff7 fs4 fc1 sc0 ls0 ws0">k</div><div class="t m0 xed h24 yb18 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 xe7 h4 y369 ff7 fs2 fc1 sc0 ls0 ws0">(a<span class="_ _f"></span>,<span class="_ _f"></span>b<span class="_ _5"></span>)<span class="ff3">,<span class="_ _6"> </span>whe<span class="_ _5"></span>re</span></div><div class="t m0 x4b ha yb19 ff7 fs2 fc1 sc0 ls0 ws0">a<span class="_ _4"> </span><span class="ff8">=</span></div><div class="t m0 x4c h20 y36c fff fs2 fc1 sc0 ls0 ws0">l</div><div class="t m0 x80 h14 yb1a ff7 fs2 fc1 sc0 ls0 ws0">i</div><div class="t m0 xc h14 yb1b ff7 fs2 fc1 sc0 ls0 ws0">s</div><div class="t m0 x4d h8 yb1c ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x35 h20 y36c fff fs2 fc1 sc0 ls0 ws0">m</div><div class="t m0 xfe ha yb19 ff7 fs2 fc1 sc0 ls0 ws0">b<span class="_ _6"> </span><span class="ff8">=</span></div><div class="t m0 x92 h20 y36c fff fs2 fc1 sc0 ls0 ws0">l</div><div class="t m0 x34 h14 yb1a ff7 fs2 fc1 sc0 ls0 ws0">j</div><div class="t m0 x34 h14 yb1b ff7 fs2 fc1 sc0 ls0 ws0">s</div><div class="t m0 x45 h8 yb1c ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x5f h20 y36c fff fs2 fc1 sc0 ls0 ws0">m</div><div class="t m0 x3 h4 y82 ff3 fs2 fc1 sc0 ls0 ws0">Due<span class="_ _19"> </span>to<span class="_ _d"> </span>the<span class="_ _19"> </span>max<span class="_ _19"> </span>aggregation<span class="_ _d"> </span>function,<span class="_ _19"> </span>the<span class="_ _d"> </span>ma<span class="_ _5"></span>ximum<span class="_ _19"> </span>valued<span class="_ _d"> </span>element<span class="_ _19"> </span>in<span class="_ _d"> </span><span class="ff6">Z</span></div><div class="t m0 xc7 h8 y2ea ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xc7 h6 yb1d ff7 fs4 fc1 sc0 ls0 ws0">k</div><div class="t m0 xcf h24 yb1e ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 xd0 h14 y82 ff7 fs2 fc1 sc0 ls0 ws0">(a<span class="_ _f"></span>,<span class="_ _f"></span>b<span class="_ _5"></span>)</div><div class="t m0 x3 h4 y3c0 ff3 fs2 fc1 sc0 ls0 ws0">speciﬁes<span class="_ _4"> </span>the<span class="_ _4"> </span>value<span class="_ _4"> </span>of<span class="_ _6"> </span>neuron<span class="_ _4"> </span><span class="ff7">z</span></div><div class="t m0 x35 h8 y2eb ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x35 h6 yb1f ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 x36 h4 y3c0 ff3 fs2 fc1 sc0 ls0 ws0">in<span class="_ _4"> </span>the<span class="_ _4"> </span>max-pooling<span class="_ _4"> </span>layer<span class="_ _6"> </span><span class="ff7">l<span class="_ _2"> </span><span class="ff8">=<span class="_ _6"></span></span></span>2.<span class="_ _4"> </span>That<span class="_ _4"> </span>is,</div><div class="t m0 x4c h14 yab3 ff7 fs2 fc1 sc0 ls0 ws0">z</div><div class="t m0 x9f h8 y22e ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x9f h6 yb20 ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 x35 h4 yab3 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _3c"> </span><span class="ff3">max</span></div><div class="t m0 x36 h8 yb21 ff7 fs4 fc1 sc0 ls0 ws0">i,j<span class="_ _f"></span><span class="ff8">=<span class="ff3">1</span></span>,<span class="ff3">2</span>,..<span class="_ _1c"></span>.<span class="_ _f"></span>,<span class="_ _b"></span>k</div><div class="t m0 x3d h24 yb22 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x33 h20 yb23 fff fs2 fc1 sc0 ls0 ws0">n</div><div class="t m0 x83 h14 yab3 ff7 fs2 fc1 sc0 ls0 ws0">z</div><div class="t m0 x3c h8 y22e ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x3c h8 yb20 ff7 fs4 fc1 sc0 ls0 ws0">(a<span class="_ _5"></span><span class="ff8">−<span class="ff3">1</span></span>)<span class="ff8">·</span>k</div><div class="t m0 x65 h24 yb24 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x96 h8 yb20 ff8 fs4 fc1 sc0 ls0 ws0">+<span class="ff7">i,(b</span>−<span class="ff3">1<span class="ff7">)</span></span>·<span class="ff7">k</span></div><div class="t m0 x6d h24 yb24 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x25 h15 yb20 ff8 fs4 fc1 sc0 ls0 ws0">+<span class="ff7">j</span></div><div class="t m0 x34 h20 yb23 fff fs2 fc1 sc0 ls0 ws0">o</div><div class="t m0 xa9 h14 y37d ff7 fs2 fc1 sc0 ls0 ws0">i</div><div class="t m0 xb4 h15 yb25 ff8 fs4 fc1 sc0 ls0 ws0">∗</div><div class="t m0 xa7 h14 y37d ff7 fs2 fc1 sc0 ls0 ws0">,<span class="_ _f"></span>j</div><div class="t m0 x40 h15 yb25 ff8 fs4 fc1 sc0 ls0 ws0">∗</div><div class="t m0 x35 h4 y37d ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _7"> </span><span class="ff3">a<span class="_ _5"></span>rg<span class="_ _8"> </span>max</span></div><div class="t m0 x36 h8 y4b ff7 fs4 fc1 sc0 ls0 ws0">i,j<span class="_ _f"></span><span class="ff8">=<span class="ff3">1</span></span>,<span class="ff3">2</span>,..<span class="_ _1c"></span>.<span class="_ _f"></span>,<span class="_ _b"></span>k</div><div class="t m0 x3d h24 yb26 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x33 h20 y908 fff fs2 fc1 sc0 ls0 ws0">n</div><div class="t m0 x83 h14 y37d ff7 fs2 fc1 sc0 ls0 ws0">z</div><div class="t m0 x3c h8 yb25 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x3c h8 yb27 ff7 fs4 fc1 sc0 ls0 ws0">(a<span class="_ _5"></span><span class="ff8">−<span class="ff3">1</span></span>)<span class="ff8">·</span>k</div><div class="t m0 x65 h24 yb28 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x96 h8 yb27 ff8 fs4 fc1 sc0 ls0 ws0">+<span class="ff7">i,(b</span>−<span class="ff3">1<span class="ff7">)</span></span>·<span class="ff7">k</span></div><div class="t m0 x6d h24 yb28 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x25 h15 yb27 ff8 fs4 fc1 sc0 ls0 ws0">+<span class="ff7">j</span></div><div class="t m0 x34 h20 y908 fff fs2 fc1 sc0 ls0 ws0">o</div><div class="t m0 x3 h4 yb29 ff3 fs2 fc1 sc0 ls0 ws0">where<span class="_ _4"> </span><span class="ff7">i</span></div><div class="t m0 x1d h15 yb2a ff8 fs4 fc1 sc0 ls0 ws0">∗</div><div class="t m0 x67 h14 yb29 ff7 fs2 fc1 sc0 ls0 ws0">,<span class="_ _f"></span>j</div><div class="t m0 xed h15 yb2a ff8 fs4 fc1 sc0 ls0 ws0">∗</div><div class="t m0 x1b h4 yb29 ff3 fs2 fc1 sc0 ls0 ws0">is<span class="_ _4"> </span>the<span class="_ _4"> </span>index<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _6"> </span>ma<span class="_ _5"></span>ximum<span class="_ _4"> </span>valued<span class="_ _4"> </span>neuron<span class="_ _6"> </span>in<span class="_ _4"> </span>the<span class="_ _4"> </span>window<span class="_ _4"> </span><span class="ff6">Z</span></div><div class="t m0 x88 h8 yb2a ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x88 h6 y26b ff7 fs4 fc1 sc0 ls0 ws0">k</div><div class="t m0 xd h24 yb2b ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x6b h4 yb29 ff7 fs2 fc1 sc0 ls0 ws0">(a<span class="_ _f"></span>,<span class="_ _f"></span>b<span class="_ _5"></span>)<span class="ff3">.</span></div><div class="t m0 x6 h4 yb2c ff3 fs2 fc1 sc0 ls0 ws0">The<span class="_ _4"> </span>net<span class="_ _4"> </span>gradient<span class="_ _4"> </span><span class="ff7">δ</span></div><div class="t m0 x4b h8 yb2d ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x4b h6 y26c ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 xa9 h4 yb2c ff3 fs2 fc1 sc0 ls0 ws0">at<span class="_ _4"> </span>neuron<span class="_ _4"> </span><span class="ff7">z</span></div><div class="t m0 xf4 h8 yb2d ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xf4 h6 y26c ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 xe0 h4 yb2c ff3 fs2 fc1 sc0 ls0 ws0">is<span class="_ _4"> </span>therefore<span class="_ _4"> </span>given<span class="_ _4"> </span>as</div><div class="t m0 x5d h14 y3d2 ff7 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 xa7 h8 yb2e ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xd6 h6 yb2f ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x9f ha y3d2 ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 xe1 h7 yb30 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff9">E</span></div><div class="t m0 xa1 h21 yb31 ff6 fs4 fc1 sc0 ls0 ws0">X</div><div class="t m0 xf9 h26 yb32 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xbe h8 yb33 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xba h6 y470 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 xa2 ha y3d2 ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x32 h7 yb30 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff9">E</span></div><div class="t m0 x83 h21 yb31 ff6 fs4 fc1 sc0 ls0 ws0">X</div><div class="t m0 xde h26 yb32 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 x3c h8 yb33 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x3c h6 y470 ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 xe5 ha y3d2 ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 x14 h26 yb30 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 x29 h8 yb34 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x39 h6 yb35 ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 x37 h14 yb32 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>z</div><div class="t m0 x28 h8 yb33 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x10e h6 y470 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x3a ha y3d2 ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 x98 h14 yb36 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>z</div><div class="t m0 x92 h8 yb37 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x92 h6 yb38 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x17 h26 yb32 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 x44 h8 yb33 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x101 h6 y470 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 xa2 ha yb39 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff7">δ</span></div><div class="t m0 x32 h8 y2bf ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xb5 h6 yb3a ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 x61 ha yb39 ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 x62 h26 y4e4 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 x15 h8 yb3b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x53 h6 yb3c ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 x63 h14 yb3d ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>z</div><div class="t m0 x14 h8 yb3e ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x14 h6 yb3f ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x66 ha yb39 ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">∂<span class="_ _1c"></span>f</span></div><div class="t m0 x3a h8 y2bf ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x6a h6 yb3a ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x3 h4 yb40 ff3 fs2 fc1 sc0 ls0 ws0">where<span class="_ _4"> </span><span class="ff4">net</span></div><div class="t m0 xda h6 yb41 ff7 fs4 fc1 sc0 ls0 ws0">l</div><div class="t m0 xda h6 yb42 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x72 h4 yb40 ff3 fs2 fc1 sc0 ls0 ws0">denotes<span class="_ _4"> </span>the<span class="_ _4"> </span>net<span class="_ _4"> </span>input<span class="_ _2"> </span>at<span class="_ _4"> </span>neuron<span class="_ _4"> </span><span class="ff7">z</span></div><div class="t m0 x13 h6 yb41 ff7 fs4 fc1 sc0 ls0 ws0">l</div><div class="t m0 x13 h6 yb42 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x14 h4 yb40 ff3 fs2 fc1 sc0 ls0 ws0">in<span class="_ _4"> </span>layer<span class="_ _4"> </span><span class="ff7">l<span class="_ _f"></span></span>.<span class="_ _4"> </span>However,<span class="_ _4"> </span>since<span class="_ _4"> </span><span class="ff4">net</span></div><div class="t m0 x22 h8 yb43 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x56 h6 yb42 ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 x54 ha yb40 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"> </span><span class="ff7">z</span></div><div class="t m0 xec h8 yb43 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xec h6 yb44 ff7 fs4 fc1 sc0 ls0 ws0">i</div><div class="t m0 x7c h8f yb45 ff8 fse fc1 sc0 ls0 ws0">∗</div><div class="t m0 x70 h6 yb44 ff7 fs4 fc1 sc0 ls0 ws0">,j</div><div class="t m0 x10d h8f yb45 ff8 fse fc1 sc0 ls0 ws0">∗</div><div class="t m0 x11 h4 yb40 ff3 fs2 fc1 sc0 ls0 ws0">,</div><div class="t m0 x3 h4 yb46 ff3 fs2 fc1 sc0 ls0 ws0">the<span class="_ _2"> </span>partial<span class="_ _2"> </span>deriva<span class="_ _5"></span>tive</div><div class="t m0 xb3 h13 y5a6 ff7 fs4 fc1 sc0 ls0 ws0">∂<span class="_ _5"></span><span class="ff4">net</span></div><div class="t m0 xc5 h24 yb47 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x5d h22 yb48 ff7 fse fc1 sc0 ls0 ws0">a<span class="_"> </span>b</div><div class="t m0 xc0 h6 yb49 ff7 fs4 fc1 sc0 ls0 ws0">∂<span class="_ _5"></span>z</div><div class="t m0 xa9 h24 y28f ff3 fse fc1 sc0 ls0 ws0">1</div><div class="t m0 xa9 h22 y5fa ff7 fse fc1 sc0 ls0 ws0">i<span class="_ _1c"></span>j</div><div class="t m0 xdd h4 yb46 ff3 fs2 fc1 sc0 ls0 ws0">is<span class="_ _2"> </span>eithe<span class="_"> </span>r<span class="_ _3"> </span>1<span class="_ _2"> </span>or<span class="_ _2"> </span>0,<span class="_ _2"> </span>depe<span class="_ _5"></span>nding<span class="_ _2"> </span>on<span class="_ _2"> </span>whet<span class="_"> </span>he<span class="_ _5"></span>r<span class="_ _2"> </span><span class="ff7">z</span></div><div class="t m0 x100 h8 yb4a ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x100 h6 y28c ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x9c h4 yb46 ff3 fs2 fc1 sc0 ls0 ws0">is<span class="_ _2"> </span>the<span class="_ _2"> </span>maximum</div><div class="t m0 x3 h4 y417 ff3 fs2 fc1 sc0 ls0 ws0">element<span class="_ _4"> </span>in<span class="_ _4"> </span>the<span class="_ _4"> </span>window<span class="_ _6"> </span><span class="ff6">Z</span></div><div class="t m0 x5d h8 yb4b ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x5d h6 yb4c ff7 fs4 fc1 sc0 ls0 ws0">k</div><div class="t m0 xd6 h24 y64 ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x4c h4 y417 ff7 fs2 fc1 sc0 ls0 ws0">(a<span class="_ _f"></span>,<span class="_ _f"></span>b<span class="_ _5"></span>)<span class="_ _4"> </span><span class="ff3">or<span class="_ _4"> </span>not.<span class="_ _4"> </span>Putting<span class="_ _6"> </span>it<span class="_ _4"> </span>all<span class="_ _4"> </span>toget<span class="_ _5"></span>her,<span class="_ _6"> </span>we<span class="_ _4"> </span>have</span></div><div class="t m0 xc5 h14 y48b ff7 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 xa7 h8 y41b ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xa7 h6 yb4d ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 xc ha y48b ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x35 h20 yb4e fff fs2 fc1 sc0 ls0 ws0">(</div><div class="t m0 xc2 h14 yb4f ff7 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 x4e h8 y609 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xb9 h6 yb50 ff7 fs4 fc1 sc0 ls0 ws0">a<span class="_ _5"></span>b</div><div class="t m0 xbe ha yb4f ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">∂<span class="_ _1c"></span>f</span></div><div class="t m0 x81 h8 y609 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x3b h6 yb50 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x61 h4 yb4f ff3 fs2 fc1 sc0 ls0 ws0">if<span class="_ _4"> </span><span class="ff7">i<span class="_ _4"> </span><span class="ff8">=<span class="_ _6"> </span></span>i</span></div><div class="t m0 x37 h15 y9c3 ff8 fs4 fc1 sc0 ls0 ws0">∗</div><div class="t m0 x96 h4 yb4f ff3 fs2 fc1 sc0 ls0 ws0">and<span class="_ _4"> </span><span class="ff7">j<span class="_ _2"> </span><span class="ff8">=<span class="_ _6"> </span></span>j</span></div><div class="t m0 x101 h15 y9c3 ff8 fs4 fc1 sc0 ls0 ws0">∗</div><div class="t m0 xc2 h4 yb51 ff3 fs2 fc1 sc0 ls0 ws0">0<span class="_ _5b"> </span>otherwise</div><div class="t m0 x6 h4 yb52 ff3 fs2 fc1 sc0 ls0 ws0">In<span class="_ _9"> </span>other<span class="_ _3"> </span>words,<span class="_ _a"> </span>the<span class="_ _3"> </span>net<span class="_ _9"> </span>g<span class="_ _5"></span>radient<span class="_ _9"> </span>at<span class="_ _3"> </span>neuron<span class="_ _9"> </span><span class="ff7">z</span></div><div class="t m0 x96 h8 y9c5 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x86 h6 y3ab ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x29 h4 yb52 ff3 fs2 fc1 sc0 ls0 ws0">in<span class="_ _9"> </span>the<span class="_ _9"> </span>convolution<span class="_ _9"> </span>layer<span class="_ _9"> </span>is<span class="_ _9"> </span>zero<span class="_ _9"> </span>if</div><div class="t m0 x3 h4 y3e1 ff3 fs2 fc1 sc0 ls0 ws0">this<span class="_ _9"> </span>neuron<span class="_ _a"> </span>does<span class="_ _a"> </span>not<span class="_ _9"> </span>have<span class="_ _a"> </span>the<span class="_ _a"> </span>maximum<span class="_ _9"> </span>v<span class="_ _5"></span>alue<span class="_ _9"> </span>in<span class="_ _a"> </span>its<span class="_ _a"> </span>window.<span class="_ _9"> </span>Otherwise,<span class="_ _a"> </span>if<span class="_ _a"> </span>it<span class="_ _9"> </span>is<span class="_ _a"> </span>the</div><div class="t m0 x3 h4 y184 ff3 fs2 fc1 sc0 ls0 ws0">maximum,<span class="_ _4"> </span>the<span class="_ _6"> </span>net<span class="_ _4"> </span>gradie<span class="_"> </span>nt<span class="_ _4"> </span>backpropaga<span class="_ _5"></span>tes<span class="_ _6"> </span>f<span class="_ _5"></span>rom<span class="_ _4"> </span>the<span class="_ _6"> </span>max<span class="_ _5"></span>-pooling<span class="_ _4"> </span>layer<span class="_ _6"> </span>to<span class="_ _4"> </span>this<span class="_ _4"> </span>neuron</div><div class="t m0 x3 h4 y3e3 ff3 fs2 fc1 sc0 ls0 ws0">and<span class="_ _2"> </span>is<span class="_ _2"> </span>then<span class="_ _2"> </span>multiplied<span class="_ _2"> </span>by<span class="_ _3"> </span>the<span class="_ _2"> </span>partial<span class="_ _2"> </span>derivative<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _3"> </span>activat<span class="_ _5"></span>ion<span class="_ _4"> </span>function.<span class="_ _2"> </span>The<span class="_ _2"> </span><span class="ff7">n</span></div><div class="t m0 x42 h8 y3e4 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xec ha y3e3 ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _8"></span><span class="ff7">n</span></div><div class="t m0 x8a h8 y3e4 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x3 h4 y3e5 ff3 fs2 fc1 sc0 ls0 ws0">matrix<span class="_ _4"> </span>of<span class="_ _4"> </span>net<span class="_ _6"> </span>g<span class="_ _5"></span>radients<span class="_ _4"> </span><span class="ff10">δ</span></div><div class="t m0 xa9 h8 y18a ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xd6 h4 y3e5 ff3 fs2 fc1 sc0 ls0 ws0">comprises<span class="_ _4"> </span>the<span class="_ _4"> </span>net<span class="_ _4"> </span>graidents<span class="_ _4"> </span><span class="ff7">δ</span></div><div class="t m0 x17 h8 yb53 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 x108 h6 yb54 ff7 fs4 fc1 sc0 ls0 ws0">i<span class="_ _b"></span>j</div><div class="t m0 x6d h4 y3e5 ff3 fs2 fc1 sc0 ls0 ws0">for<span class="_ _4"> </span>all<span class="_ _4"> </span><span class="ff7">i,<span class="_ _0"></span>j<span class="_ _3"> </span><span class="ff8">=<span class="_ _6"></span></span></span>1<span class="ff7">,<span class="_ _0"></span></span>2<span class="ff7">,<span class="_ _0"></span><span class="ff8">·<span class="_ _f"></span>·<span class="_ _0"></span>·<span class="_ _4"> </span></span>,<span class="_ _0"></span>n</span></div><div class="t m0 x10a h8 y3e6 ff3 fs4 fc1 sc0 ls0 ws0">1</div><div class="t m0 xf h4 y3e5 ff3 fs2 fc1 sc0 ls0 ws0">.</div><div class="t m0 x6 h4 yb55 ff3 fs2 fc1 sc0 ls0 ws0">From<span class="_ _2"> </span>the<span class="_ _4"> </span>net<span class="_ _2"> </span>g<span class="_ _5"></span>radients,<span class="_ _4"> </span>we<span class="_ _2"> </span>ca<span class="_"> </span>n<span class="_ _2"> </span>compute<span class="_ _2"> </span>the<span class="_ _2"> </span>gradients<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _4"> </span>we<span class="_ _5"></span>ight<span class="_ _2"> </span>matrices<span class="_ _4"> </span>and</div><div class="t m0 x3 h4 yb56 ff3 fs2 fc1 sc0 ls0 ws0">bias<span class="_ _3"> </span>parameters.<span class="_ _3"> </span>For<span class="_ _3"> </span>the<span class="_ _3"> </span>fully<span class="_ _3"> </span>connected<span class="_ _3"> </span>lay<span class="_ _5"></span>ers,<span class="_ _3"> </span>that<span class="_ _3"> </span>is,<span class="_ _3"> </span>between<span class="_ _3"> </span><span class="ff7">l<span class="_ _3"> </span><span class="ff8">=<span class="_ _4"> </span></span></span>2<span class="_ _3"> </span>and<span class="_ _3"> </span><span class="ff7">l<span class="_ _3"> </span><span class="ff8">=<span class="_ _4"> </span></span></span>3,<span class="_ _3"> </span>and</div><div class="t m0 x3 h4 yb57 ff7 fs2 fc1 sc0 ls0 ws0">l<span class="_ _4"> </span><span class="ff8">=<span class="_ _8"></span><span class="ff3">3<span class="_ _4"> </span>and<span class="_ _4"> </span></span></span>l<span class="_ _4"> </span><span class="ff8">=<span class="_ _6"> </span><span class="ff3">4,<span class="_ _4"> </span>we<span class="_ _4"> </span>have</span></span></div><div class="t m0 x6c ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">∇</div><div class="t m0 x10b h21 yb59 ff6 fs4 fc1 sc0 ls0 ws0">W</div><div class="t m0 x1a h24 yb5a ff3 fse fc1 sc0 ls0 ws0">3</div><div class="t m0 x1b ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff6">Z</span></div><div class="t m0 x107 h8 y576 ff3 fs4 fc1 sc0 ls0 ws0">3</div><div class="t m0 xfc ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">(<span class="ff10">δ</span></span></div><div class="t m0 x9 h6 y573 ff7 fs4 fc1 sc0 ls0 ws0">o</div><div class="t m0 xa h14 yb58 ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 xb3 h13 y576 ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 xa0 ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">∇</div><div class="t m0 x36 h21 yb59 ff6 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 xdb h24 yb5a ff3 fse fc1 sc0 ls0 ws0">3</div><div class="t m0 xba ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _8"></span><span class="ff10">δ</span></div><div class="t m0 xa3 h6 y573 ff7 fs4 fc1 sc0 ls0 ws0">o</div><div class="t m0 x14 ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">∇</div><div class="t m0 x37 h21 yb59 ff6 fs4 fc1 sc0 ls0 ws0">W</div><div class="t m0 x96 h24 yb5a ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 x39 ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff6">Z</span></div><div class="t m0 x17 h8 y576 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 x98 ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">(<span class="ff10">δ</span></span></div><div class="t m0 x101 h8 y573 ff3 fs4 fc1 sc0 ls0 ws0">3</div><div class="t m0 x9a h14 yb58 ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 xdc h13 y576 ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x9c ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">∇</div><div class="t m0 x10f h21 yb59 ff6 fs4 fc1 sc0 ls0 ws0">b</div><div class="t m0 xfb h24 yb5a ff3 fse fc1 sc0 ls0 ws0">2</div><div class="t m0 xcb ha yb58 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _8"></span><span class="ff10">δ</span></div><div class="t m0 xac h8 y573 ff3 fs4 fc1 sc0 ls0 ws0">3</div><div class="t m0 x3 h4 y2a ff3 fs2 fc1 sc0 ls0 ws0">where<span class="_ _4"> </span>we<span class="_ _4"> </span>treat<span class="_ _6"> </span><span class="ff6">Z</span></div><div class="t m0 x7 h8 y24b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xb7 h4 y2a ff3 fs2 fc1 sc0 ls0 ws0">as<span class="_ _4"> </span>a<span class="_ _4"> </span><span class="ff7">(n</span></div><div class="t m0 x5d h8 y110 ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xd6 h14 y2a ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 x4c h8 y24b ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xc h4 y2a ff8 fs2 fc1 sc0 ls0 ws0">×<span class="_ _10"></span><span class="ff3">1<span class="_ _4"> </span>vector.</span></div><div class="c x2a y2c w2 hc"><div class="t m1 x2b hd y2d ffc fs6 fc1 sc0 ls0 ws0"><span class="fc4 sc0">For Online Reading </span><span class="fc4 sc0">Only</span></div></div><div class="c x2c y2e w3 he"><div class="t m0 x2d hf y2f ffc fs7 fc3 sc0 ls0 ws0">This version is for online reading only. Unauthorized distribution is not allowed. </div><div class="t m0 x0 hf y30 ffc fs7 fc3 sc0 ls0 ws0">Please cite the book if you find it useful, and leave a review on online platforms.<span class="fc4 sc0"> </span></div><div class="t m0 x2e hf y31 ffc fs7 fc3 sc0 ls0 ws0">Please report all errata to contact@dataminingbook.info</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
