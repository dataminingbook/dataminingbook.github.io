<div id="pf2b8" class="pf w0 h0" data-page-no="2b8"><div class="pc pc2b8 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg2b8.png"/><div class="t m0 x3 hc y78 ff2 fs0 fc1 sc0 ls0 ws0">684<span class="_ _13"> </span><span class="ffb">Deep<span class="_ _4"> </span>Learning</span></div><div class="t m0 x3 h4 y288 ff3 fs2 fc1 sc0 ls0 ws0">forgotten<span class="_ _4"> </span>if<span class="_ _4"> </span>the<span class="_ _4"> </span>value<span class="_ _4"> </span>is<span class="_ _4"> </span>0.<span class="_ _4"> </span>In<span class="_ _4"> </span>addition,<span class="_ _4"> </span>they<span class="_ _4"> </span>allow<span class="_ _4"> </span>a<span class="_ _4"> </span>weighted<span class="_ _4"> </span>memory,<span class="_ _4"> </span>allowing<span class="_ _4"> </span>partial</div><div class="t m0 x3 h4 y289 ff3 fs2 fc1 sc0 ls0 ws0">remembrance<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _4"> </span>elements<span class="_ _4"> </span>of<span class="_ _6"> </span><span class="ff6">h</span></div><div class="t m0 x74 h6 y52f ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xbb h4 y289 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _4"> </span>for<span class="_ _4"> </span>values<span class="_ _4"> </span>between<span class="_ _6"> </span>0<span class="_ _2"> </span>and<span class="_ _4"> </span>1.</div><div class="t m0 x1 h4 y530 ff6 fs2 fc1 sc0 ls0 ws0">Example<span class="_ _4"> </span>26.2<span class="_ _4"> </span>(Differentiable<span class="_ _4"> </span>Gates).<span class="_ _19"> </span><span class="ff3">As<span class="_ _6"> </span>a<span class="_ _5"></span>n<span class="_ _6"> </span>ex<span class="_ _5"></span>ample,<span class="_ _6"> </span>consider<span class="_ _4"> </span>a<span class="_ _6"> </span>hidden<span class="_ _6"> </span>sta<span class="_ _5"></span>te<span class="_ _6"> </span>vector</span></div><div class="t m0 x6a h9 y531 ff6 fs2 fc1 sc0 ls0 ws0">h</div><div class="t m0 xa5 h6 y532 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xd4 ha y531 ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 xc h1c y533 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x7c h4 y534 ff8 fs2 fc1 sc0 ls0 ws0">−<span class="ff3">0<span class="ff7">.</span>94<span class="_ _2f"> </span>1<span class="ff7">.</span>05<span class="_ _2f"> </span>0<span class="ff7">.</span>39<span class="_ _2f"> </span>0<span class="ff7">.</span>97<span class="_ _2f"> </span>0<span class="ff7">.</span>90</span></div><div class="t m0 x40 h1c y533 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x26 hf y535 ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x1 h4 y536 ff3 fs2 fc1 sc0 ls0 ws0">First<span class="_ _4"> </span>consider<span class="_ _4"> </span>a<span class="_ _4"> </span>logical<span class="_ _4"> </span>gate<span class="_ _6"> </span>v<span class="_"> </span>e<span class="_ _5"></span>ctor</div><div class="t m0 xbf ha y537 ff6 fs2 fc1 sc0 ls0 ws0">g<span class="_ _8"> </span><span class="ff8">=</span></div><div class="t m0 xd6 h1c y538 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x9e h4 y539 ff3 fs2 fc1 sc0 ls0 ws0">0<span class="_ _2f"> </span>1<span class="_ _2f"> </span>1<span class="_ _2f"> </span>0<span class="_ _2f"> </span>1</div><div class="t m0 x83 h1c y538 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x93 hf y53a ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x1 h4 y53b ff3 fs2 fc1 sc0 ls0 ws0">Their<span class="_ _4"> </span>element-wise<span class="_ _4"> </span>product<span class="_ _4"> </span>gives</div><div class="t m0 xc2 ha y53c ff6 fs2 fc1 sc0 ls0 ws0">g<span class="_ _f"> </span><span class="ff8">⊙<span class="_ _f"></span></span>h</div><div class="t m0 x30 h6 y53d ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x50 ha y53c ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x9d h1c y53e ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xb7 h4 y53f ff3 fs2 fc1 sc0 ls0 ws0">0<span class="_ _2f"> </span>1<span class="ff7">.</span>05<span class="_ _2f"> </span>0<span class="ff7">.</span>39<span class="_ _2f"> </span>0<span class="_ _2f"> </span>0<span class="ff7">.</span>90</div><div class="t m0 xa6 h1c y53e ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x3f hf y540 ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x1 h4 y541 ff3 fs2 fc1 sc0 ls0 ws0">We<span class="_ _4"> </span>can<span class="_ _4"> </span>see<span class="_ _4"> </span>that<span class="_ _6"> </span>t<span class="_ _5"></span>he<span class="_ _4"> </span>ﬁrst<span class="_ _4"> </span>and<span class="_ _4"> </span>fourth<span class="_ _4"> </span>elements<span class="_ _4"> </span>have<span class="_ _6"> </span>bee<span class="_"> </span>n<span class="_ _4"> </span>“forgott<span class="_ _5"></span>en.”</div><div class="t m0 x54 h4 y542 ff3 fs2 fc1 sc0 ls0 ws0">Now<span class="_ _4"> </span>consider<span class="_ _4"> </span>a<span class="_ _4"> </span>differentiable<span class="_ _6"> </span>ga<span class="_ _5"></span>te<span class="_ _4"> </span>vector</div><div class="t m0 x48 ha y543 ff6 fs2 fc1 sc0 ls0 ws0">g<span class="_ _6"> </span><span class="ff8">=</span></div><div class="t m0 x49 h1c y544 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x4a h4 y545 ff3 fs2 fc1 sc0 ls0 ws0">0<span class="ff7">.</span>1<span class="_ _2f"> </span>0<span class="_ _2f"> </span>1<span class="_ _2f"> </span>0<span class="ff7">.</span>9<span class="_ _2f"> </span>0<span class="ff7">.</span>5</div><div class="t m0 xd7 h1c y544 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xa2 hf y546 ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x1 h4 y547 ff3 fs2 fc1 sc0 ls0 ws0">The<span class="_ _4"> </span>element-wise<span class="_ _4"> </span>product<span class="_ _4"> </span>of<span class="_ _4"> </span><span class="ff6">g<span class="_ _4"> </span></span>and<span class="_ _6"> </span><span class="ff6">h</span></div><div class="t m0 xde h6 y548 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x5b h4 y547 ff3 fs2 fc1 sc0 ls0 ws0">gives</div><div class="t m0 x2c ha y549 ff6 fs2 fc1 sc0 ls0 ws0">g<span class="_ _f"> </span><span class="ff8">⊙<span class="_ _f"></span></span>h</div><div class="t m0 x47 h6 y54a ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x9b ha y549 ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x30 h1c y54b ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x9c h4 y54c ff8 fs2 fc1 sc0 ls0 ws0">−<span class="ff3">0<span class="ff7">.</span>094<span class="_ _2f"> </span>0<span class="_ _2f"> </span>0<span class="ff7">.</span>39<span class="_ _2f"> </span>0<span class="ff7">.</span>873<span class="_ _2f"> </span>0<span class="ff7">.</span>45</span></div><div class="t m0 x8c h1c y54b ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x27 hf y54d ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x1 h4 y54e ff3 fs2 fc1 sc0 ls0 ws0">Now,<span class="_ _2"> </span>only<span class="_ _3"> </span>a<span class="_ _3"> </span>fraction<span class="_ _2"> </span>speciﬁed<span class="_ _3"> </span>by<span class="_ _2"> </span>a<span class="_ _5"></span>n<span class="_ _2"> </span>eleme<span class="_ _5"></span>nt<span class="_ _4"> </span>of<span class="_ _3"> </span><span class="ff6">g<span class="_ _3"> </span></span>is<span class="_ _2"> </span>re<span class="_ _5"></span>tained<span class="_ _2"> </span>as<span class="_ _3"> </span>a<span class="_ _2"> </span>memory<span class="_ _3"> </span>after<span class="_ _2"> </span>the</div><div class="t m0 x1 h4 y54f ff3 fs2 fc1 sc0 ls0 ws0">element-wise<span class="_ _4"> </span>product.</div><div class="t m0 x3 h1f y550 ff1 fs3 fc2 sc0 ls0 ws0">26.2.1<span class="_ _19"> </span><span class="ff5 fsd fc1">F<span class="_ _1c"></span>orget<span class="_ _2"> </span>Ga<span class="_ _5"></span>te</span></div><div class="t m0 x3 h4 y551 ff3 fs2 fc1 sc0 ls0 ws0">To<span class="_ _2"> </span>see<span class="_ _2"> </span>how<span class="_ _3"> </span>gate<span class="_ _5"></span>d<span class="_ _4"> </span>neurons<span class="_ _3"> </span>work,<span class="_ _2"> </span>we<span class="_ _3"> </span>consider<span class="_ _2"> </span>a<span class="_ _5"></span>n<span class="_ _2"> </span>RNN<span class="_ _2"> </span>wit<span class="_"> </span>h<span class="_ _3"> </span>a<span class="_ _2"> </span><span class="ff4">forget<span class="_ _3"> </span>gate</span>.<span class="_ _2"> </span>Let<span class="_ _3"> </span><span class="ff6">h</span></div><div class="t m0 xcc h6 y552 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xcd ha y551 ff8 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _4"> </span><span class="ffa">R</span></div><div class="t m0 x8a h6 y553 ff7 fs4 fc1 sc0 ls0 ws0">m</div><div class="t m0 x3 h4 y554 ff3 fs2 fc1 sc0 ls0 ws0">be<span class="_ _4"> </span>the<span class="_ _2"> </span>hidden<span class="_ _2"> </span>state<span class="_ _2"> </span>vector,<span class="_ _4"> </span>a<span class="_"> </span>nd<span class="_ _2"> </span>let<span class="_ _2"> </span><span class="ffe">φ</span></div><div class="t m0 x80 h6 y555 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xde ha y554 ff8 fs2 fc1 sc0 ls0 ws0">∈<span class="_ _6"> </span><span class="ffa">R</span></div><div class="t m0 xe5 h6 y556 ff7 fs4 fc1 sc0 ls0 ws0">m</div><div class="t m0 x5d h4 y554 ff3 fs2 fc1 sc0 ls0 ws0">be<span class="_ _4"> </span>a<span class="_ _2"> </span>forget<span class="_ _2"> </span>gat<span class="_ _5"></span>e<span class="_ _4"> </span>vector.<span class="_ _2"> </span>Both<span class="_ _4"> </span>t<span class="_ _5"></span>hese<span class="_ _4"> </span>ve<span class="_"> </span>c<span class="_ _5"></span>tors</div><div class="t m0 x3 h4 y557 ff3 fs2 fc1 sc0 ls0 ws0">have<span class="_ _4"> </span>the<span class="_ _4"> </span>same<span class="_ _6"> </span>number<span class="_ _2"> </span>of<span class="_ _4"> </span>neurons,<span class="_ _6"> </span><span class="ff7">m<span class="_ _5"></span></span>.</div><div class="t m0 x6 h4 y558 ff3 fs2 fc1 sc0 ls0 ws0">In<span class="_ _9"> </span>a<span class="_ _a"> </span>reg<span class="_"> </span>ula<span class="_ _5"></span>r<span class="_ _9"> </span>RNN<span class="_ _5"></span>,<span class="_ _3"> </span>a<span class="_"> </span>ssuming<span class="_ _a"> </span>ta<span class="_ _5"></span>nh<span class="_ _9"> </span>activ<span class="_ _5"></span>ation,<span class="_ _9"> </span>the<span class="_ _9"> </span>hidden<span class="_ _a"> </span>sta<span class="_ _5"></span>te<span class="_ _9"> </span>ve<span class="_"> </span>c<span class="_ _5"></span>tor<span class="_ _9"> </span>is<span class="_ _a"> </span>updated</div><div class="t m0 x3 h4 y559 ff3 fs2 fc1 sc0 ls0 ws0">unconditionally,<span class="_ _4"> </span>as<span class="_ _4"> </span>follows:</div><div class="t m0 xb h9 y55a ff6 fs2 fc1 sc0 ls0 ws0">h</div><div class="t m0 x3b h6 y55b ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x3c h4 y55a ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff3">tanh</span></div><div class="t m0 x9e h1c y55c ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xde h9 y55a ff6 fs2 fc1 sc0 ls0 ws0">W</div><div class="t m0 xb1 hf y55d ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 xb1 h6 y55e ff7 fs4 fc1 sc0 ls0 ws0">i</div><div class="t m0 x7e h9 y55a ff6 fs2 fc1 sc0 ls0 ws0">x</div><div class="t m0 x59 h6 y55b ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x5d ha y55a ff8 fs2 fc1 sc0 ls0 ws0">+<span class="_ _f"></span><span class="ff6">W</span></div><div class="t m0 x15 hf y55d ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x4e h6 y55e ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 x60 h9 y55a ff6 fs2 fc1 sc0 ls0 ws0">h</div><div class="t m0 x33 h8 y55b ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _5"></span><span class="ff8">−<span class="ff3">1</span></span></div><div class="t m0 x65 ha y55a ff8 fs2 fc1 sc0 ls0 ws0">+<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 x24 h6 y55b ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 x25 h1c y55f ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x3 h4 y560 ff3 fs2 fc1 sc0 ls0 ws0">Instead<span class="_ _4"> </span>of<span class="_ _4"> </span>directly<span class="_ _2"> </span>updating<span class="_ _4"> </span><span class="ff6">h</span></div><div class="t m0 xa4 h6 y561 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x30 h4 y560 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _4"> </span>we<span class="_ _4"> </span>will<span class="_ _2"> </span>employ<span class="_ _4"> </span>the<span class="_ _4"> </span>f<span class="_"> </span>org<span class="_"> </span>e<span class="_ _5"></span>t<span class="_ _4"> </span>gate<span class="_ _4"> </span>neurons<span class="_ _2"> </span>to<span class="_ _4"> </span>control<span class="_ _4"> </span>how</div><div class="t m0 x3 h4 y562 ff3 fs2 fc1 sc0 ls0 ws0">much<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _4"> </span>previous<span class="_ _4"> </span>hidden<span class="_ _4"> </span>state<span class="_ _4"> </span>v<span class="_ _5"></span>ector<span class="_ _4"> </span>to<span class="_ _4"> </span>forget<span class="_ _4"> </span>when<span class="_ _4"> </span>computing<span class="_ _4"> </span>its<span class="_ _4"> </span>new<span class="_ _4"> </span>value<span class="_ _5"></span>,<span class="_ _4"> </span>and</div><div class="t m0 x3 h4 y563 ff3 fs2 fc1 sc0 ls0 ws0">also<span class="_ _4"> </span>to<span class="_ _4"> </span>control<span class="_ _4"> </span>how<span class="_ _6"> </span>t<span class="_"> </span>o<span class="_ _4"> </span>updat<span class="_"> </span>e<span class="_ _4"> </span>it<span class="_ _4"> </span>in<span class="_ _4"> </span>light<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _4"> </span>new<span class="_ _4"> </span>input<span class="_ _6"> </span><span class="ff6">x</span></div><div class="t m0 x8d h6 y564 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x8e h4 y563 ff3 fs2 fc1 sc0 ls0 ws0">.</div><div class="t m0 x6 h4 y565 ff3 fs2 fc1 sc0 ls0 ws0">Figure<span class="_ _8"> </span>26.6<span class="_ _8"> </span>shows<span class="_ _6"> </span>the<span class="_ _8"> </span>architect<span class="_ _5"></span>ure<span class="_ _f"> </span>of<span class="_ _6"> </span>an<span class="_ _8"> </span>RNN<span class="_ _6"> </span>with<span class="_ _8"> </span>a<span class="_ _8"> </span>forge<span class="_ _5"></span>t<span class="_ _8"> </span>gate.<span class="_ _8"> </span>Given<span class="_ _8"> </span>input<span class="_ _6"> </span><span class="ff6">x</span></div><div class="t m0 x77 h6 y566 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x78 h4 y565 ff3 fs2 fc1 sc0 ls0 ws0">and</div><div class="t m0 x3 h4 y567 ff3 fs2 fc1 sc0 ls0 ws0">previous<span class="_ _4"> </span>hidden<span class="_ _6"> </span>st<span class="_"> </span>a<span class="_ _5"></span>te<span class="_ _4"> </span><span class="ff6">h</span></div><div class="t m0 x6a h8 y568 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _5"></span><span class="ff8">−<span class="ff3">1</span></span></div><div class="t m0 xd4 h4 y567 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _4"> </span>we<span class="_ _4"> </span>ﬁrst<span class="_ _4"> </span>compute<span class="_ _6"> </span>a<span class="_ _4"> </span>candidat<span class="_ _5"></span>e<span class="_ _4"> </span>update<span class="_ _4"> </span>vector<span class="_ _6"> </span><span class="ff6">u</span></div><div class="t m0 x89 h6 y568 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x84 h4 y567 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _4"> </span>as<span class="_ _4"> </span>follows:</div><div class="t m0 xb h9 y569 ff6 fs2 fc1 sc0 ls0 ws0">u</div><div class="t m0 xc h6 y56a ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xa4 h4 y569 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff3">tanh</span></div><div class="t m0 x80 h1c y56b ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x4b h9 y569 ff6 fs2 fc1 sc0 ls0 ws0">W</div><div class="t m0 x4c hf y56c ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x4c h6 y56d ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x81 h9 y56e ff6 fs2 fc1 sc0 ls0 ws0">x</div><div class="t m0 x5c h6 y56f ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x5d ha y56e ff8 fs2 fc1 sc0 ls0 ws0">+<span class="_ _f"></span><span class="ff6">W</span></div><div class="t m0 x4e hf y570 ff4 fs4 fc1 sc0 ls0 ws0">T</div><div class="t m0 x4e h6 y571 ff7 fs4 fc1 sc0 ls0 ws0">hu</div><div class="t m0 x60 h9 y572 ff6 fs2 fc1 sc0 ls0 ws0">h</div><div class="t m0 x33 h8 y573 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _5"></span><span class="ff8">−<span class="ff3">1</span></span></div><div class="t m0 x35 ha y572 ff8 fs2 fc1 sc0 ls0 ws0">+<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 x68 h6 y573 ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x25 h1c y574 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x3d h4 y575 ff3 fs2 fc1 sc0 ls0 ws0">(26.7)</div><div class="t m0 x3 h4 y576 ff3 fs2 fc1 sc0 ls0 ws0">The<span class="_ _4"> </span>candidate<span class="_ _4"> </span>update<span class="_ _4"> </span>v<span class="_ _5"></span>ector<span class="_ _4"> </span><span class="ff6">u</span></div><div class="t m0 xd5 h6 y577 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xbf h4 y576 ff3 fs2 fc1 sc0 ls0 ws0">is<span class="_ _4"> </span>essent<span class="_"> </span>ia<span class="_ _5"></span>lly<span class="_ _4"> </span>the<span class="_ _4"> </span>unmodiﬁed<span class="_ _4"> </span>hidden<span class="_ _4"> </span>sta<span class="_ _5"></span>te<span class="_ _4"> </span>vector,<span class="_ _4"> </span>as<span class="_ _4"> </span>in</div><div class="t m0 x3 h4 y578 ff3 fs2 fc1 sc0 ls0 ws0">a<span class="_ _4"> </span>regular<span class="_ _4"> </span>RNN.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
