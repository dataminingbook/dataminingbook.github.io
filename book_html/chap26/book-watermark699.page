<div id="pf2bb" class="pf w0 h0" data-page-no="2bb"><div class="pc pc2bb w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg2bb.png"/><div class="t m0 x2f h10 y32 ffd fs0 fc1 sc0 ls0 ws0">Gated<span class="_ _4"> </span>RNN<span class="fs29">S<span class="_ _5"></span></span>:<span class="_ _6"> </span>Long<span class="_ _4"> </span>Short-Term<span class="_ _4"> </span>Memory<span class="_ _6"> </span>Networks<span class="_ _3a"> </span><span class="ff2">687</span></div><div class="t m0 xea h4c y456 ff6 fs0 fc1 sc0 ls0 ws0">o</div><div class="t m0 x60 h53 y457 ff3 fs2a fc1 sc0 ls0 ws0">1</div><div class="t m0 x21 h4c y456 ff6 fs0 fc1 sc0 ls0 ws0">o</div><div class="t m0 xbc h53 y457 ff3 fs2a fc1 sc0 ls0 ws0">2</div><div class="t m0 xfa h4c y458 ff6 fs0 fc1 sc0 ls0 ws0">h</div><div class="t m0 xab h53 y459 ff3 fs2a fc1 sc0 ls0 ws0">0</div><div class="t m0 xea h4c y458 ff6 fs0 fc1 sc0 ls0 ws0">h</div><div class="t m0 x60 h53 y459 ff3 fs2a fc1 sc0 ls0 ws0">1</div><div class="t m0 x21 h4c y458 ff6 fs0 fc1 sc0 ls0 ws0">h</div><div class="t m0 xbc h53 y459 ff3 fs2a fc1 sc0 ls0 ws0">2</div><div class="t m0 xf1 h54 y45a ff8 fs2d fc1 sc0 ls0 ws0">⊙<span class="_ _3d"> </span>⊙</div><div class="t m0 xea h54 ycb ff8 fs2d fc1 sc0 ls0 ws0">⊙<span class="_ _3d"> </span>⊙</div><div class="t m0 xb1 h4e y3c2 ff10 fs0 fc1 sc0 ls0 ws0">φ</div><div class="t m0 x9 h53 y45b ff3 fs2a fc1 sc0 ls0 ws0">1</div><div class="t m0 xea h4c y3c2 ff6 fs0 fc1 sc0 ls0 ws0">u</div><div class="t m0 x60 h53 y21f ff3 fs2a fc1 sc0 ls0 ws0">1</div><div class="t m0 x39 h4e y3c2 ff10 fs0 fc1 sc0 ls0 ws0">φ</div><div class="t m0 xbb h53 y45b ff3 fs2a fc1 sc0 ls0 ws0">2</div><div class="t m0 x21 h4c y3c2 ff6 fs0 fc1 sc0 ls0 ws0">u</div><div class="t m0 xbc h53 y21f ff3 fs2a fc1 sc0 ls0 ws0">2</div><div class="t m0 x80 h4c y45c ff6 fs0 fc1 sc0 ls0 ws0">x</div><div class="t m0 x41 h53 y45d ff3 fs2a fc1 sc0 ls0 ws0">1</div><div class="t m0 xdc h4c y45c ff6 fs0 fc1 sc0 ls0 ws0">x</div><div class="t m0 x90 h53 y45d ff3 fs2a fc1 sc0 ls0 ws0">2</div><div class="t m0 x3d h4c y45e ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x5e h4d y45f ff7 fs2a fc1 sc0 ls0 ws0">o</div><div class="t m0 x62 h4c y45e ff7 fs0 fc1 sc0 ls0 ws0">,<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 xe9 h4d y45f ff7 fs2a fc1 sc0 ls0 ws0">o</div><div class="t m0 x88 h4c y45e ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x48 h4d y45f ff7 fs2a fc1 sc0 ls0 ws0">o</div><div class="t m0 xf3 h4c y45e ff7 fs0 fc1 sc0 ls0 ws0">,<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 x23 h4d y45f ff7 fs2a fc1 sc0 ls0 ws0">o</div><div class="t m0 xd6 h50 y460 ff6 fs29 fc1 sc0 ls0 ws0">1<span class="_ _0"> </span><span class="ff8">−<span class="_ _0"></span><span class="ff10">φ</span></span></div><div class="t m0 xa8 h55 y461 ff3 fs2c fc1 sc0 ls0 ws0">1</div><div class="t m0 x92 h50 y460 ff6 fs29 fc1 sc0 ls0 ws0">1<span class="_ _0"> </span><span class="ff8">−<span class="_ _0"></span><span class="ff10">φ</span></span></div><div class="t m0 x5f h55 y461 ff3 fs2c fc1 sc0 ls0 ws0">2</div><div class="t m0 xb7 h4c y462 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x30 h4d y463 ff7 fs2a fc1 sc0 ls0 ws0">φ</div><div class="t m0 x31 h4c y462 ff7 fs0 fc1 sc0 ls0 ws0">,<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 xca h4d y463 ff7 fs2a fc1 sc0 ls0 ws0">φ</div><div class="t m0 xbe h4c y464 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 xa2 h4d y465 ff7 fs2a fc1 sc0 ls0 ws0">u</div><div class="t m0 xea h4c y464 ff7 fs0 fc1 sc0 ls0 ws0">,<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 xb5 h4d y465 ff7 fs2a fc1 sc0 ls0 ws0">u</div><div class="t m0 x28 h4c y462 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x97 h4d y463 ff7 fs2a fc1 sc0 ls0 ws0">φ</div><div class="t m0 x16 h4c y462 ff7 fs0 fc1 sc0 ls0 ws0">,<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 xeb h4d y463 ff7 fs2a fc1 sc0 ls0 ws0">φ</div><div class="t m0 xf5 h4c y464 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x7f h4d y465 ff7 fs2a fc1 sc0 ls0 ws0">u</div><div class="t m0 x9c h4c y464 ff7 fs0 fc1 sc0 ls0 ws0">,<span class="_ _f"></span><span class="ff6">b</span></div><div class="t m0 xfb h4d y465 ff7 fs2a fc1 sc0 ls0 ws0">u</div><div class="t m0 x72 h4c y466 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x73 h4d y467 ff7 fs2a fc1 sc0 ls0 ws0">hφ</div><div class="t m0 xd7 h4c y468 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 xb9 h4d y469 ff7 fs2a fc1 sc0 ls0 ws0">hu</div><div class="t m0 x3c h4c y466 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x64 h4d y467 ff7 fs2a fc1 sc0 ls0 ws0">hφ</div><div class="t m0 x27 h4c y468 ff6 fs0 fc1 sc0 ls0 ws0">W</div><div class="t m0 x93 h4d y469 ff7 fs2a fc1 sc0 ls0 ws0">hu</div><div class="t m0 xab h12 y46a ffd fs5 fc1 sc0 ls0 ws0">Figure<span class="_ _6"> </span>26.7.<span class="_ _7"> </span><span class="ff3">RNN<span class="_ _8"> </span>with<span class="_ _6"> </span>a<span class="_ _6"> </span>forget<span class="_ _8"> </span>gate<span class="_ _6"> </span>unfolded<span class="_ _6"> </span>in<span class="_ _8"> </span>time<span class="_ _6"> </span>(recurrent<span class="_ _8"> </span>connections<span class="_ _6"> </span>in<span class="_ _6"> </span>gray).</span></div><div class="t m0 x3e h4 y8f ff3 fs2 fc1 sc0 ls0 ws0">considering<span class="_ _19"> </span>the<span class="_ _19"> </span>p<span class="_ _b"></span>artial<span class="_ _19"> </span>derivative<span class="_ _5"></span>s<span class="_ _d"> </span>of<span class="_ _19"> </span>the<span class="_ _19"> </span>activation<span class="_ _d"> </span>funct<span class="_ _5"></span>ion<span class="_ _19"> </span>(<span class="ff7">∂<span class="_ _f"></span><span class="ff6">f</span></span></div><div class="t m0 xcd h6 y46b ff7 fs4 fc1 sc0 ls0 ws0">o</div><div class="t m0 xce h6 y46c ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xd2 h4 y8f ff3 fs2 fc1 sc0 ls0 ws0">)<span class="_ _19"> </span>and<span class="_ _19"> </span>the<span class="_ _d"> </span>error</div><div class="t m0 x3e h4 y91 ff3 fs2 fc1 sc0 ls0 ws0">function<span class="_ _4"> </span>(<span class="ff7">∂<span class="_ _f"></span><span class="ff11">E</span></span></div><div class="t m0 xed h21 y46d ff6 fs4 fc1 sc0 ls0 ws0">x</div><div class="t m0 x72 h22 y46e ff7 fse fc1 sc0 ls0 ws0">t</div><div class="t m0 xb0 h4 y91 ff3 fs2 fc1 sc0 ls0 ws0">):</div><div class="t m0 xa1 h25 y391 ff10 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 xba h6 y275 ff7 fs4 fc1 sc0 ls0 ws0">o</div><div class="t m0 xba h6 y33c ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xd4 ha y391 ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff7">∂<span class="_ _f"></span><span class="ff6">f</span></span></div><div class="t m0 x82 h6 y46f ff7 fs4 fc1 sc0 ls0 ws0">o</div><div class="t m0 x3d h6 y33c ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x61 ha y391 ff8 fs2 fc1 sc0 ls0 ws0">⊙<span class="_ _10"></span><span class="ff7">∂<span class="_ _f"></span><span class="ff11">E</span></span></div><div class="t m0 x14 h21 y470 ff6 fs4 fc1 sc0 ls0 ws0">x</div><div class="t m0 x15 h22 y471 ff7 fse fc1 sc0 ls0 ws0">t</div><div class="t m0 x43 h4 y23f ff3 fs2 fc1 sc0 ls0 ws0">For<span class="_ _4"> </span>the<span class="_ _2"> </span>other<span class="_ _4"> </span>layers,<span class="_ _4"> </span>we<span class="_ _4"> </span>can<span class="_ _2"> </span>reverse<span class="_ _4"> </span>all<span class="_ _4"> </span>the<span class="_ _2"> </span>arrows<span class="_ _4"> </span>to<span class="_ _4"> </span>dete<span class="_ _5"></span>rmine<span class="_ _4"> </span>the<span class="_ _4"> </span>dependencies</div><div class="t m0 x3e h4 y472 ff3 fs2 fc1 sc0 ls0 ws0">between<span class="_ _d"> </span>the<span class="_ _d"> </span>laye<span class="_ _5"></span>rs.<span class="_ _1"> </span>Therefore,<span class="_ _19"> </span>to<span class="_ _1"> </span>compute<span class="_ _d"> </span>the<span class="_ _19"> </span>n<span class="_ _b"></span>et<span class="_ _d"> </span>gradient<span class="_ _d"> </span>for<span class="_ _d"> </span>t<span class="_ _5"></span>he<span class="_ _1"> </span>updat<span class="_ _5"></span>e<span class="_ _d"> </span>laye<span class="_ _5"></span>r</div><div class="t m0 x3e h25 y473 ff10 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 x2f h6 y474 ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x2f h6 y475 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x57 h4 y473 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _1"> </span>notice<span class="_ _1"> </span>that<span class="_ _1"> </span>in<span class="_ _1"> </span>backpropagation<span class="_ _1"> </span>it<span class="_ _7"> </span>ha<span class="_"> </span>s<span class="_ _1"> </span>only<span class="_ _1"> </span>one<span class="_ _1"> </span>incoming<span class="_ _1"> </span>edge<span class="_ _1"> </span>from<span class="_ _1"> </span><span class="ff6">h</span></div><div class="t m0 xe h6 y476 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xac h4 y473 ff3 fs2 fc1 sc0 ls0 ws0">via<span class="_ _1"> </span>the</div><div class="t m0 x3e h4 y477 ff3 fs2 fc1 sc0 ls0 ws0">element-wise<span class="_ _9"> </span>product<span class="_ _a"> </span><span class="ff7">(<span class="ff6">1<span class="_ _6"> </span><span class="ff8">−<span class="_ _6"> </span><span class="ff10">φ</span></span></span></span></div><div class="t m0 xb h6 y478 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x9f ha y477 ff7 fs2 fc1 sc0 ls0 ws0">)<span class="_ _6"> </span><span class="ff8">⊙<span class="_ _6"> </span><span class="ff6">u</span></span></div><div class="t m0 xb9 h6 y479 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xa1 h4 y477 ff3 fs2 fc1 sc0 ls0 ws0">.<span class="_ _9"> </span>The<span class="_ _a"> </span>net<span class="_ _9"> </span>g<span class="_ _5"></span>radient<span class="_ _9"> </span><span class="ff7">δ</span></div><div class="t m0 x16 h6 y47a ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x16 h6 y2f9 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x98 h4 y477 ff3 fs2 fc1 sc0 ls0 ws0">at<span class="_ _9"> </span>update<span class="_ _a"> </span>layer<span class="_ _9"> </span>neuron<span class="_ _a"> </span><span class="ff7">i<span class="_ _1"> </span></span>at</div><div class="t m0 x3e h4 y47b ff3 fs2 fc1 sc0 ls0 ws0">time<span class="_ _4"> </span><span class="ff7">t<span class="_ _3"> </span></span>is<span class="_ _4"> </span>g<span class="_"> </span>iv<span class="_ _5"></span>en<span class="_ _6"> </span>a<span class="_ _5"></span>s</div><div class="t m0 x1b h14 y47c ff7 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 x73 h6 y47d ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x94 h6 y47e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x77 ha y47c ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x3f h7 y47f ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff9">E</span></div><div class="t m0 xa h21 y480 ff6 fs4 fc1 sc0 ls0 ws0">x</div><div class="t m0 xfc h26 y481 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 x31 h6 y482 ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x5c h6 y483 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xb8 ha y47c ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 xb h7 y47f ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff9">E</span></div><div class="t m0 xa8 h21 y480 ff6 fs4 fc1 sc0 ls0 ws0">x</div><div class="t m0 xa7 h26 y484 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xf9 h6 y485 ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 x35 h6 y486 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x36 ha y47c ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 xdb h26 y47f ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xa3 h6 y487 ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 xe0 h6 y488 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x78 h14 y481 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>u</div><div class="t m0 xa2 h6 ya3 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x51 ha y47c ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 x61 h14 y47f ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>u</div><div class="t m0 xdf h6 y480 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x82 h26 y481 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xa4 h6 y482 ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 xe9 h6 y483 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x14 ha y47c ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff7">δ</span></div><div class="t m0 x38 h6 y47d ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 x38 h6 y47e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x87 h4 y47c ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">(<span class="ff3">1<span class="_ _10"> </span></span></span>−<span class="_ _10"></span><span class="ff7">φ</span></div><div class="t m0 x4a h6 y489 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x34 ha y47c ff7 fs2 fc1 sc0 ls0 ws0">)<span class="_ _10"> </span><span class="ff8">·</span></div><div class="t m0 x90 h20 y451 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x9b h4 y47c ff3 fs2 fc1 sc0 ls0 ws0">1<span class="_ _10"> </span><span class="ff8">−<span class="_ _10"></span><span class="ff7">u</span></span></div><div class="t m0 xe2 h8 y47d ff3 fs4 fc1 sc0 ls0 ws0">2</div><div class="t m0 xe2 h6 y47e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x95 h20 y451 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x3e h4 y48a ff3 fs2 fc1 sc0 ls0 ws0">where</div><div class="t m0 xfa h13 yf0 ff7 fs4 fc1 sc0 ls0 ws0">∂<span class="_ _5"></span><span class="ff4">net</span></div><div class="t m0 xf6 h22 y48b ff7 fse fc1 sc0 ls0 ws0">h</div><div class="t m0 x67 h22 y34c ff7 fse fc1 sc0 ls0 ws0">t<span class="_ _5"></span>i</div><div class="t m0 x1c h6 y48c ff7 fs4 fc1 sc0 ls0 ws0">∂<span class="_ _5"></span>u</div><div class="t m0 x6c h22 ya7 ff7 fse fc1 sc0 ls0 ws0">t<span class="_ _5"></span>i</div><div class="t m0 xed ha y48a ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x8f h6 y48d ff7 fs4 fc1 sc0 ls0 ws0">∂</div><div class="t m0 x5b h6 y48c ff7 fs4 fc1 sc0 ls0 ws0">∂<span class="_ _5"></span>u</div><div class="t m0 xc4 h22 ya7 ff7 fse fc1 sc0 ls0 ws0">t<span class="_ _5"></span>i</div><div class="t m0 xd1 h20 y2c8 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x8 h14 y48a ff7 fs2 fc1 sc0 ls0 ws0">φ</div><div class="t m0 x2 h6 y48e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xa ha y48a ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">h</span></div><div class="t m0 x6f h8 y48e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span><span class="ff8">−<span class="_ _1c"></span><span class="ff3">1<span class="_ _5"></span><span class="ff7">,i</span></span></span></div><div class="t m0 xdd h4 y48a ff8 fs2 fc1 sc0 ls0 ws0">+<span class="_ _10"></span><span class="ff7">(<span class="ff3">1<span class="_ _10"> </span></span></span>−<span class="_ _10"></span><span class="ff7">φ</span></div><div class="t m0 x79 h6 y48e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xa2 ha y48a ff7 fs2 fc1 sc0 ls0 ws0">)<span class="_ _10"> </span><span class="ff8">·<span class="_ _10"></span></span>u</div><div class="t m0 x32 h6 y48e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x33 h20 y2c8 fff fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x62 h4 y48a ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _3"> </span><span class="ff3">1<span class="_ _4"> </span></span>−<span class="_ _4"> </span><span class="ff7">φ</span></div><div class="t m0 x39 h6 y48e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x97 h4 y48a ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _1"> </span>and<span class="_ _7"> </span>we<span class="_ _1"> </span>use<span class="_ _1"> </span>the<span class="_ _7"> </span>fac<span class="_"> </span>t<span class="_ _1"> </span>that<span class="_ _7"> </span>t<span class="_ _5"></span>he</div><div class="t m0 x3e h4 y48f ff3 fs2 fc1 sc0 ls0 ws0">update<span class="_ _a"> </span>laye<span class="_ _5"></span>r<span class="_ _9"> </span>uses<span class="_ _7"> </span>a<span class="_ _a"> </span>t<span class="_ _5"></span>anh<span class="_ _a"> </span>activ<span class="_ _5"></span>ation<span class="_ _9"> </span>f<span class="_ _5"></span>unction.<span class="_ _a"> </span>Across<span class="_ _a"> </span>all<span class="_ _7"> </span>neurons,<span class="_ _a"> </span>we<span class="_ _7"> </span>obtain<span class="_ _a"> </span>the<span class="_ _7"> </span>net</div><div class="t m0 x3e h4 y490 ff3 fs2 fc1 sc0 ls0 ws0">gradient<span class="_ _4"> </span>at<span class="_ _4"> </span><span class="ff6">u</span></div><div class="t m0 xed h6 y491 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x1b h4 y490 ff3 fs2 fc1 sc0 ls0 ws0">as<span class="_ _4"> </span>follows:</div><div class="t m0 xb4 h25 yae ff10 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 x4c h6 y492 ff7 fs4 fc1 sc0 ls0 ws0">u</div><div class="t m0 x4c h6 y493 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xc ha yae ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _8"></span><span class="ff10">δ</span></div><div class="t m0 xe1 h6 y492 ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 xe1 h6 y493 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xb9 ha yae ff8 fs2 fc1 sc0 ls0 ws0">⊙<span class="_ _10"></span><span class="ff7">(<span class="ff6">1<span class="_ _10"> </span></span></span>−<span class="_ _10"></span><span class="ff10">φ</span></div><div class="t m0 x82 h6 y494 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x33 ha yae ff7 fs2 fc1 sc0 ls0 ws0">)<span class="_ _10"> </span><span class="ff8">⊙<span class="_ _10"></span></span>(<span class="ff6">1<span class="_ _10"> </span><span class="ff8">−<span class="_ _10"></span></span>u</span></div><div class="t m0 x28 h6 y187 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x87 ha yae ff8 fs2 fc1 sc0 ls0 ws0">⊙<span class="_ _10"></span><span class="ff6">u</span></div><div class="t m0 xa6 h6 y187 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x98 h14 yae ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="t m0 x43 h4 y495 ff3 fs2 fc1 sc0 ls0 ws0">To<span class="_ _e"> </span>compute<span class="_ _c"> </span>the<span class="_ _e"> </span>net<span class="_ _c"> </span>gradient<span class="_ _e"> </span>vector<span class="_ _e"> </span>f<span class="_ _5"></span>or<span class="_ _e"> </span>the<span class="_ _e"> </span>f<span class="_ _5"></span>orget<span class="_ _e"> </span>ga<span class="_"> </span>t<span class="_ _5"></span>e,<span class="_ _e"> </span>we<span class="_ _e"> </span>observe<span class="_ _e"> </span>f<span class="_ _5"></span>rom</div><div class="t m0 x3e h4 y496 ff3 fs2 fc1 sc0 ls0 ws0">Figure<span class="_ _2"> </span>26<span class="_"> </span>.<span class="_ _5"></span>7<span class="_ _2"> </span>that<span class="_ _3"> </span>there<span class="_ _2"> </span>are<span class="_ _3"> </span>two<span class="_ _2"> </span>incoming<span class="_ _3"> </span>ﬂows<span class="_ _3"> </span>into<span class="_ _2"> </span><span class="ff10">φ</span></div><div class="t m0 x39 h6 y18f ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xbb h4 y496 ff3 fs2 fc1 sc0 ls0 ws0">during<span class="_ _2"> </span>backpropaga<span class="_"> </span>t<span class="_ _5"></span>ion<span class="_ _2"> </span>—<span class="_ _3"> </span>one</div><div class="t m0 x3e h4 y497 ff3 fs2 fc1 sc0 ls0 ws0">from<span class="_ _a"> </span><span class="ff6">h</span></div><div class="t m0 xad h6 y424 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xab h4 y497 ff3 fs2 fc1 sc0 ls0 ws0">via<span class="_ _7"> </span>the<span class="_ _7"> </span>element-wise<span class="_ _a"> </span>product<span class="_ _1"> </span><span class="ff10">φ</span></div><div class="t m0 xde h6 y498 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x3d ha y497 ff8 fs2 fc1 sc0 ls0 ws0">⊙<span class="_ _4"> </span><span class="ff6">h</span></div><div class="t m0 xdf h8 y424 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span><span class="ff8">−<span class="_ _1c"></span><span class="ff3">1</span></span></div><div class="t m0 x14 h4 y497 ff3 fs2 fc1 sc0 ls0 ws0">,<span class="_ _7"> </span>and<span class="_ _7"> </span>the<span class="_ _a"> </span>othe<span class="_"> </span>r<span class="_ _7"> </span>also<span class="_ _7"> </span>from<span class="_ _7"> </span><span class="ff6">h</span></div><div class="t m0 xf3 h6 y424 ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xac h4 y497 ff3 fs2 fc1 sc0 ls0 ws0">via<span class="_ _a"> </span>t<span class="_ _5"></span>he</div><div class="t m0 x3e h4 y499 ff3 fs2 fc1 sc0 ls0 ws0">element-wise<span class="_ _6"> </span>product<span class="_ _6"> </span><span class="ff7">(<span class="ff6">1<span class="_ _0"> </span><span class="ff8">−<span class="_ _10"></span><span class="ff10">φ</span></span></span></span></div><div class="t m0 xa7 h6 y49a ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 x4c ha y499 ff7 fs2 fc1 sc0 ls0 ws0">)<span class="_ _0"></span><span class="ff8">⊙<span class="_ _f"></span><span class="ff6">u</span></span></div><div class="t m0 xe1 h6 y49b ff7 fs4 fc1 sc0 ls0 ws0">t</div><div class="t m0 xc2 h4 y499 ff3 fs2 fc1 sc0 ls0 ws0">.<span class="_ _6"> </span>Therefore,<span class="_ _6"> </span>the<span class="_ _4"> </span>net<span class="_ _8"> </span>gradie<span class="_ _5"></span>nt<span class="_ _6"> </span><span class="ff7">δ</span></div><div class="t m0 x5f h6 y49c ff7 fs4 fc1 sc0 ls0 ws0">φ</div><div class="t m0 x5f h6 y49d ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x9b h4 y499 ff3 fs2 fc1 sc0 ls0 ws0">at<span class="_ _6"> </span>forget<span class="_ _6"> </span>ga<span class="_"> </span>t<span class="_ _5"></span>e<span class="_ _8"> </span>neuron</div><div class="t m0 x3e h4 y49e ff7 fs2 fc1 sc0 ls0 ws0">i<span class="_ _2"> </span><span class="ff3">a<span class="_ _5"></span>t<span class="_ _4"> </span>time<span class="_ _4"> </span></span>t<span class="_ _3"> </span><span class="ff3">is<span class="_ _4"> </span>give<span class="_ _5"></span>n<span class="_ _6"> </span>as</span></div><div class="t m0 xf6 h14 y49f ff7 fs2 fc1 sc0 ls0 ws0">δ</div><div class="t m0 xda h6 y1a1 ff7 fs4 fc1 sc0 ls0 ws0">φ</div><div class="t m0 xda h6 y4a0 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x72 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 xc4 h7 y4a1 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff9">E</span></div><div class="t m0 xb6 h21 y10e ff6 fs4 fc1 sc0 ls0 ws0">x</div><div class="t m0 x74 h26 y4a2 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xb7 h6 y4a3 ff7 fs4 fc1 sc0 ls0 ws0">φ</div><div class="t m0 x3f h6 y4a4 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x30 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x7d h7 y4a1 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff9">E</span></div><div class="t m0 x4c h21 y10e ff6 fs4 fc1 sc0 ls0 ws0">x</div><div class="t m0 xc0 h26 y358 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xdd h6 y4a5 ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 xb h6 y4a6 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x80 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 x35 h26 y4a1 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 xba h6 y4a7 ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 x78 h6 y4a8 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xa0 h14 y4a9 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>φ</div><div class="t m0 xa1 h6 y4aa ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x84 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">·</div><div class="t m0 x81 h14 y4a1 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span>φ</div><div class="t m0 xe8 h6 y10e ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xea h26 y4a2 ff7 fs2 fc1 sc0 ls0 ws0">∂<span class="_ _f"></span><span class="ff4">net</span></div><div class="t m0 x5e h6 y4a3 ff7 fs4 fc1 sc0 ls0 ws0">φ</div><div class="t m0 x61 h6 y4a4 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x12 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">=<span class="_ _6"></span><span class="ff7">δ</span></div><div class="t m0 x53 h6 y4ab ff7 fs4 fc1 sc0 ls0 ws0">h</div><div class="t m0 x53 h6 y4a0 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x65 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">·<span class="_ _10"></span><span class="ff7">(h</span></div><div class="t m0 x87 h8 y196 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span><span class="ff8">−<span class="_ _1c"></span><span class="ff3">1<span class="_ _5"></span><span class="ff7">,i</span></span></span></div><div class="t m0 x98 ha y49f ff8 fs2 fc1 sc0 ls0 ws0">−<span class="_ _10"></span><span class="ff7">u</span></div><div class="t m0 x44 h6 y196 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xdc ha y49f ff7 fs2 fc1 sc0 ls0 ws0">)<span class="_ _10"> </span><span class="ff8">·<span class="_ _10"></span></span>φ</div><div class="t m0 xf8 h6 y196 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 xfd h4 y49f ff7 fs2 fc1 sc0 ls0 ws0">(<span class="ff3">1<span class="_ _10"> </span><span class="ff8">−<span class="_ _10"></span></span></span>φ</div><div class="t m0 x8d h6 y196 ff7 fs4 fc1 sc0 ls0 ws0">t<span class="_ _f"></span>i</div><div class="t m0 x88 h14 y49f ff7 fs2 fc1 sc0 ls0 ws0">)</div><div class="c x2a y2c w2 hc"><div class="t m1 x2b hd y2d ffc fs6 fc1 sc0 ls0 ws0"><span class="fc4 sc0">For Online Reading </span><span class="fc4 sc0">Only</span></div></div><div class="c x2c y2e w3 he"><div class="t m0 x2d hf y2f ffc fs7 fc3 sc0 ls0 ws0">This version is for online reading only. Unauthorized distribution is not allowed. </div><div class="t m0 x0 hf y30 ffc fs7 fc3 sc0 ls0 ws0">Please cite the book if you find it useful, and leave a review on online platforms.<span class="fc4 sc0"> </span></div><div class="t m0 x2e hf y31 ffc fs7 fc3 sc0 ls0 ws0">Please report all errata to contact@dataminingbook.info</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
