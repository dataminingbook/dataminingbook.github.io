<div id="pff9" class="pf w0 h0" data-page-no="f9"><div class="pc pcf9 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgf9.png"/><div class="t m0 x29 hc y4f ffa fs0 fc1 sc0 ls0 ws0">Generating<span class="_ _6"> </span>Association<span class="_ _6"> </span>Rules<span class="_ _4e"> </span><span class="ff2">237</span></div><div class="t m0 x3 h5 yb2 ff1 fs3 fc2 sc0 ls0 ws0">8.3<span class="_ _d"> </span><span class="ff6 fc1">G<span class="_ _3"></span>E<span class="_ _3"></span>NE<span class="_ _3"></span>R<span class="_ _3"></span>ATI<span class="_ _3"></span>N<span class="_ _3"></span>G<span class="_ _e"> </span>A<span class="_ _3"></span>S<span class="_ _3"></span>S<span class="_ _3"></span>O<span class="_ _3"></span>C<span class="_ _3"></span>I<span class="_"> </span>AT<span class="_ _3"></span>I<span class="_ _3"></span>O<span class="_ _3"></span>N<span class="_ _5"> </span>R<span class="_ _3"></span>U<span class="_"> </span>L<span class="_ _3"></span>E<span class="_ _3"></span>S</span></div><div class="t m0 x3 h7 yb3 ff3 fs2 fc1 sc0 ls0 ws0">Given<span class="_ _6"> </span>a<span class="_ _6"> </span>collection<span class="_ _6"> </span>of<span class="_ _6"> </span>frequent<span class="_ _6"> </span>ite<span class="_ _3"></span>msets<span class="_ _8"> </span><span class="ff7">F<span class="_ _0"> </span></span>,<span class="_ _6"> </span>to<span class="_ _6"> </span>ge<span class="_ _3"></span>nerate<span class="_ _6"> </span>association<span class="_ _6"> </span>rules<span class="_ _6"> </span>we<span class="_ _6"> </span>iterate<span class="_ _6"> </span>over</div><div class="t m0 x3 h7 yb4 ff3 fs2 fc1 sc0 ls0 ws0">all<span class="_ _4"> </span>itemset<span class="_ _3"></span>s<span class="_ _4"> </span><span class="ff4">Z<span class="_ _9"> </span><span class="ff8">∈<span class="_ _9"> </span><span class="ff7">F<span class="_ _0"> </span></span></span></span>,<span class="_ _2"> </span>and<span class="_ _4"> </span>calculate<span class="_ _4"> </span>t<span class="_ _3"></span>he<span class="_ _4"> </span>confidence<span class="_ _2"> </span>of<span class="_ _4"> </span>va<span class="_ _3"></span>rious<span class="_ _4"> </span>rules<span class="_ _2"> </span>that<span class="_ _4"> </span>can<span class="_ _2"> </span>be<span class="_ _4"> </span>derived</div><div class="t m0 x3 h7 yb5 ff3 fs2 fc1 sc0 ls0 ws0">from<span class="_ _5"> </span>t<span class="_ _3"></span>he<span class="_ _5"> </span>ite<span class="_ _3"></span>mset.<span class="_ _5"> </span>Formally<span class="_ _3"></span>,<span class="_ _5"> </span>giv<span class="_ _3"></span>en<span class="_ _5"> </span>a<span class="_ _e"> </span>frequent<span class="_ _e"> </span>itemset<span class="_ _e"> </span><span class="ff4">Z<span class="_ _4"> </span><span class="ff8">∈<span class="_ _4"> </span><span class="ff7">F<span class="_ _0"> </span></span></span></span>,<span class="_ _e"> </span>we<span class="_ _e"> </span>look<span class="_ _5"> </span>a<span class="_ _3"></span>t<span class="_ _5"> </span>a<span class="_ _3"></span>ll<span class="_ _5"> </span>proper</div><div class="t m0 x3 h4 yb6 ff3 fs2 fc1 sc0 ls0 ws0">subsets<span class="_ _6"> </span><span class="ff4">X<span class="_ _6"> </span><span class="ff8">⊂<span class="_ _8"></span></span>Z<span class="_ _6"> </span></span>t<span class="_ _3"></span>o<span class="_ _6"> </span>c<span class="_"> </span>ompute<span class="_ _9"> </span>rules<span class="_ _6"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>form</div><div class="t m0 x74 hf y2ef ff4 fs2 fc1 sc0 ls0 ws0">X</div><div class="t m0 xda ha y2f0 ff9 fs4 fc1 sc0 ls0 ws0">s<span class="_ _3"></span>,c</div><div class="t m0 x51 h4 y2ef ff8 fs2 fc1 sc0 ls0 ws0">−<span class="_ _2c"></span>→<span class="_ _8"></span><span class="ff4">Y<span class="ff9">,<span class="_ _2"> </span><span class="ff3">where<span class="_ _9"> </span></span></span>Y<span class="_ _8"> </span></span>=<span class="_ _8"> </span><span class="ff4">Z<span class="_ _10"> </span></span>\<span class="_ _10"></span><span class="ff4">X</span></div><div class="t m0 x3 h4 y2f1 ff3 fs2 fc1 sc0 ls0 ws0">where<span class="_ _6"> </span><span class="ff4">Z<span class="_ _10"> </span><span class="ff8">\<span class="_ _10"></span></span>X<span class="_ _8"> </span><span class="ff8">=<span class="_ _6"> </span></span>Z<span class="_ _15"> </span><span class="ff8">−<span class="_ _10"></span></span>X</span>.<span class="_ _6"> </span>The<span class="_ _9"> </span>rule<span class="_ _9"> </span>must<span class="_ _6"> </span>be<span class="_ _9"> </span>frequent<span class="_ _9"> </span>because</div><div class="t m0 x96 h13 y2f2 ff9 fs2 fc1 sc0 ls0 ws0">s<span class="_ _9"> </span><span class="ff8">=<span class="_ _8"></span><span class="ff4">sup</span></span>(<span class="ff4">XY</span>)<span class="_ _8"> </span><span class="ff8">=<span class="_ _6"> </span><span class="ff4">sup</span></span>(<span class="ff4">Z</span>)<span class="_ _8"> </span><span class="ff8">≥<span class="_ _8"></span><span class="ff4">minsup</span></span></div><div class="t m0 x3 h4 y2f3 ff3 fs2 fc1 sc0 ls0 ws0">Thus,<span class="_ _c"> </span>we<span class="_ _1b"> </span>have<span class="_ _c"> </span>to<span class="_ _1b"> </span>only<span class="_ _c"> </span>check<span class="_ _c"> </span>whether<span class="_ _1b"> </span>the<span class="_ _c"> </span>rule<span class="_ _1b"> </span>confidence<span class="_ _c"> </span>satisfies<span class="_ _c"> </span>the<span class="_ _1b"> </span><span class="ff4">minconf</span></div><div class="t m0 x3 h4 y2f4 ff3 fs2 fc1 sc0 ls0 ws0">threshold.<span class="_ _6"> </span>We<span class="_ _9"> </span>compute<span class="_ _9"> </span>the<span class="_ _6"> </span>confidence<span class="_ _9"> </span>as<span class="_ _6"> </span>follows:</div><div class="t m0 xca h13 y2f5 ff9 fs2 fc1 sc0 ls0 ws0">c<span class="_ _6"> </span><span class="ff8">=</span></div><div class="t m0 xc1 h13 y2f6 ff4 fs2 fc1 sc0 ls0 ws0">sup<span class="ff9">(</span>X<span class="_ _10"> </span><span class="ff8">∪<span class="_ _15"></span></span>Y<span class="ff9">)</span></div><div class="t m0 xbc hf y2f7 ff4 fs2 fc1 sc0 ls0 ws0">sup<span class="ff9">(</span>X<span class="ff9">)</span></div><div class="t m0 xd6 h13 y2f8 ff8 fs2 fc1 sc0 ls0 ws0">=</div><div class="t m0 x95 hf y2f9 ff4 fs2 fc1 sc0 ls0 ws0">sup<span class="ff9">(</span>Z<span class="ff9">)</span></div><div class="t m0 x95 hf y2f7 ff4 fs2 fc1 sc0 ls0 ws0">sup<span class="ff9">(</span>X<span class="ff9">)</span></div><div class="t m0 x34 h4 y2fa ff3 fs2 fc1 sc0 ls0 ws0">(8.7)</div><div class="t m0 x3 h4 y2fb ff3 fs2 fc1 sc0 ls0 ws0">If<span class="_ _9"> </span><span class="ff9">c<span class="_ _6"> </span><span class="ff8">≥<span class="_ _6"> </span><span class="ff4">minconf</span></span></span>,<span class="_ _9"> </span>then<span class="_ _9"> </span>the<span class="_ _9"> </span>rule<span class="_ _9"> </span>is<span class="_ _9"> </span>a<span class="_ _9"> </span>strong<span class="_ _a"> </span>rule.<span class="_ _9"> </span>On<span class="_ _9"> </span>the<span class="_ _9"> </span>other<span class="_ _9"> </span>hand,<span class="_ _9"> </span>if<span class="_ _9"> </span><span class="ff4">conf<span class="ff9">(</span>X<span class="_ _6"> </span><span class="ff8">−<span class="_ _2c"></span>→<span class="_ _6"> </span><span class="ff4">Y<span class="ff9">)<span class="_ _8"> </span>&lt;<span class="_ _6"> </span>c<span class="_ _3"></span><span class="ff3">,</span></span></span></span></span></div><div class="t m0 x3 h4 y2fc ff3 fs2 fc1 sc0 ls0 ws0">then<span class="_ _a"> </span><span class="ff4">conf<span class="ff9">(</span>W<span class="_ _9"> </span><span class="ff8">−<span class="_ _2c"></span>→<span class="_ _6"> </span><span class="ff4">Z<span class="_ _8"> </span></span>\<span class="_ _8"></span><span class="ff4">W<span class="ff9">)<span class="_ _6"> </span>&lt;<span class="_ _9"> </span>c<span class="_ _4"> </span><span class="ff3">for<span class="_ _4"> </span>all<span class="_ _4"> </span>subsets<span class="_ _a"> </span></span></span>W<span class="_ _9"> </span></span>⊂<span class="_ _6"> </span><span class="ff4">X<span class="ff3">,<span class="_ _4"> </span>as<span class="_ _a"> </span></span>sup<span class="_ _3"></span><span class="ff9">(</span>W<span class="ff9">)<span class="_ _6"> </span></span></span>≥<span class="_ _9"> </span><span class="ff4">sup<span class="ff9">(</span>X<span class="ff9">)<span class="ff3">.<span class="_ _a"> </span>We<span class="_ _4"> </span>can<span class="_ _4"> </span>thus</span></span></span></span></span></div><div class="t m0 x3 h4 y2fd ff3 fs2 fc1 sc0 ls0 ws0">avoid<span class="_ _6"> </span>chec<span class="_ _3"></span>king<span class="_ _6"> </span>subsets<span class="_ _9"> </span>of<span class="_ _6"> </span><span class="ff4">X<span class="_ _3"></span></span>.</div><div class="t m0 x4 h4 y2fe ff3 fs2 fc1 sc0 ls0 ws0">Algorithm<span class="_ _2"> </span>8.6<span class="_ _4"> </span>shows<span class="_ _2"> </span>the<span class="_ _2"> </span>pseudo-code<span class="_ _2"> </span>for<span class="_ _4"> </span>the<span class="_ _2"> </span>association<span class="_ _2"> </span>rule<span class="_ _4"> </span>mining<span class="_ _2"> </span>algorithm.</div><div class="t m0 x3 h7 y2ff ff3 fs2 fc1 sc0 ls0 ws0">For<span class="_ _8"> </span>ea<span class="_ _3"></span>ch<span class="_ _8"> </span>f<span class="_ _3"></span>requent<span class="_ _8"> </span>ite<span class="_"> </span>mse<span class="_"> </span>t<span class="_ _6"> </span><span class="ff4">Z<span class="_ _10"> </span><span class="ff8">∈<span class="_ _8"></span><span class="ff7">F<span class="_ _13"></span></span></span></span>,<span class="_ _6"> </span>with<span class="_ _6"> </span>size<span class="_ _8"> </span>at<span class="_ _6"> </span>lea<span class="_ _3"></span>st<span class="_ _8"> </span>2,<span class="_ _6"> </span>we<span class="_ _8"> </span>initia<span class="_ _3"></span>lize<span class="_ _8"> </span>the<span class="_ _6"> </span>set<span class="_ _6"> </span>of<span class="_ _8"> </span>ante<span class="_ _3"></span>cedents</div><div class="t m0 x3 h7 y300 ff7 fs2 fc1 sc0 ls0 ws0">A<span class="_ _a"> </span><span class="ff3">with<span class="_ _4"> </span>all<span class="_ _a"> </span>t<span class="_ _3"></span>he<span class="_ _a"> </span>nonempty<span class="_ _4"> </span>subsets<span class="_ _a"> </span>of<span class="_ _4"> </span><span class="ff4">Z<span class="_ _4"> </span></span>(line<span class="_ _a"> </span>2).<span class="_ _4"> </span>For<span class="_ _a"> </span>e<span class="_ _3"></span>ach<span class="_ _a"> </span><span class="ff4">X<span class="_ _6"> </span><span class="ff8">∈<span class="_ _9"> </span></span></span></span>A<span class="_ _4"> </span><span class="ff3">we<span class="_ _a"> </span>che<span class="_ _3"></span>ck<span class="_ _a"> </span>whether<span class="_ _a"> </span>t<span class="_"> </span>he</span></div><div class="t m0 x3 h4 y301 ff3 fs2 fc1 sc0 ls0 ws0">confidence<span class="_ _6"> </span>of<span class="_ _6"> </span>the<span class="_ _6"> </span>rule<span class="_ _6"> </span><span class="ff4">X<span class="_ _8"> </span><span class="ff8">−<span class="_ _2c"></span>→<span class="_ _8"></span><span class="ff4">Z<span class="_ _15"> </span></span>\<span class="_ _15"></span><span class="ff4">X<span class="_ _6"> </span><span class="ff3">is<span class="_ _9"> </span>at<span class="_ _6"> </span>least<span class="_ _6"> </span></span>minconf<span class="_ _6"> </span><span class="ff3">(line<span class="_ _6"> </span>7).<span class="_ _6"> </span>If<span class="_ _9"> </span>so,<span class="_ _6"> </span>we<span class="_ _6"> </span>output<span class="_ _6"> </span>the<span class="_ _6"> </span>rule.</span></span></span></span></div><div class="t m0 x3 h4 y302 ff3 fs2 fc1 sc0 ls0 ws0">Otherwise,<span class="_ _6"> </span>we<span class="_ _6"> </span>remove<span class="_ _6"> </span>all<span class="_ _6"> </span>subsets<span class="_ _6"> </span><span class="ff4">W<span class="_ _8"> </span><span class="ff8">⊂<span class="_ _10"></span></span>X<span class="_ _6"> </span></span>from<span class="_ _6"> </span>the<span class="_ _6"> </span>set<span class="_ _6"> </span>of<span class="_ _6"> </span>possible<span class="_ _6"> </span>a<span class="_ _3"></span>ntecedents<span class="_ _6"> </span>(line<span class="_ _6"> </span>10).</div><div class="t m0 x1 h4 y303 ffb fs2 fc1 sc0 ls0 ws0">Example<span class="_ _6"> </span>8.1<span class="_ _3"></span>3.<span class="_ _c"> </span><span class="ff3">Cons<span class="_ _7"></span>ider<span class="_ _c"> </span>the<span class="_ _c"> </span>frequent<span class="_ _1b"> </span>itemset<span class="_ _c"> </span><span class="ff4">ABDE<span class="ff9">(</span></span>3<span class="ff9">)<span class="_ _c"> </span></span>from<span class="_ _1b"> </span>Ta<span class="_"> </span>ble<span class="_ _c"> </span>8<span class="_ _3"></span>.1,<span class="_ _c"> </span>whose</span></div><div class="t m0 x1 h4 y304 ff3 fs2 fc1 sc0 ls0 ws0">support<span class="_ _8"> </span>is<span class="_ _6"> </span>shown<span class="_ _6"> </span>within<span class="_ _6"> </span>the<span class="_ _6"> </span>brackets.<span class="_ _8"> </span>A<span class="_ _3"></span>ssume<span class="_ _6"> </span>that<span class="_ _8"> </span><span class="ff4">minconf<span class="_ _8"> </span><span class="ff8">=<span class="_ _10"></span></span></span>0<span class="ff9">.<span class="_ _3"></span></span>9.<span class="_ _6"> </span>To<span class="_ _8"> </span>g<span class="_ _3"></span>enerate<span class="_ _8"> </span>strong</div><div class="t m0 x4a h4 y305 ff6 fs2 fc1 sc0 ls0 ws0">Algorithm<span class="_ _9"> </span>8.6:<span class="_ _9"> </span><span class="ff3">Algorithm<span class="_ _6"> </span>A<span class="_ _3"></span><span class="fs5">S<span class="_ _11"></span>S<span class="_ _11"></span>O<span class="_ _11"></span>C<span class="_ _11"></span>I<span class="_ _11"></span>A<span class="_ _11"></span>T<span class="_ _3"></span>I<span class="_ _11"></span>O<span class="_ _11"></span>N<span class="_ _3"></span></span>R<span class="_ _3"></span><span class="fs5">U<span class="_ _11"></span>L<span class="_ _3"></span>E<span class="_ _11"></span>S</span></span></div><div class="t m0 x4b h7 y1c8 ffb fs2 fc1 sc0 ls0 ws0">A<span class="fs5">S<span class="_ _11"></span>S<span class="_ _11"></span>O<span class="_ _11"></span>C<span class="_ _11"></span>I<span class="_ _11"></span>A<span class="_ _3"></span>T<span class="_ _11"></span>I<span class="_ _11"></span>O<span class="_ _11"></span>N<span class="_ _3"></span></span>R<span class="_ _3"></span><span class="fs5">U<span class="_ _11"></span>L<span class="_ _3"></span>E<span class="_ _11"></span>S<span class="_ _4"> </span></span>(<span class="ff7">F<span class="_ _0"></span></span>,<span class="_ _9"> </span><span class="ff4">minconf</span>):</div><div class="t m0 x4c h7 y306 ffb fs7 fc1 sc0 ls0 ws0">1<span class="_ _1b"> </span><span class="fs2">foreach<span class="_ _6"> </span><span class="ff4">Z<span class="_ _8"> </span><span class="ff8">∈<span class="_ _6"> </span><span class="ff7">F<span class="_ _13"></span></span></span>,<span class="_ _9"> </span>such<span class="_ _6"> </span>that<span class="_ _9"> </span><span class="ff8">|</span>Z<span class="ff8">|<span class="_ _8"> </span>≥<span class="_ _6"> </span><span class="ff3">2<span class="_ _6"> </span></span></span></span>do</span></div><div class="t m0 x4c h7 y307 ffb fs7 fc1 sc0 ls0 ws0">2<span class="_ _2e"> </span><span class="ff7 fs2">A<span class="_ _8"> </span><span class="ff8">←</span></span></div><div class="t m0 x30 h14 y308 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x57 h13 y307 ff4 fs2 fc1 sc0 ls0 ws0">X<span class="_ _8"> </span><span class="ff8">|<span class="_ _8"> </span></span>X<span class="_ _6"> </span><span class="ff8">⊂<span class="_ _8"></span></span>Z<span class="ff9">,<span class="_ _0"></span></span>X<span class="_ _8"> </span><span class="ff8">6=<span class="_ _8"> </span>∅</span></div><div class="t m0 x6b h14 y308 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x4c h7 y309 ffb fs7 fc1 sc0 ls0 ws0">3<span class="_ _2e"> </span><span class="fs2">while<span class="_ _9"> </span><span class="ff7">A<span class="_ _8"> </span><span class="ff8">6=<span class="_ _8"></span>∅<span class="_ _9"> </span></span></span>do</span></div><div class="t m0 x4c h7 y30a ffb fs7 fc1 sc0 ls0 ws0">4<span class="_ _2f"> </span><span class="ff4 fs2">X<span class="_ _8"> </span><span class="ff8">←<span class="_ _8"> </span><span class="ff3">max<span class="_ _3"></span>imal<span class="_ _6"> </span>ele<span class="_ _3"></span>ment<span class="_ _6"> </span>in<span class="_ _9"> </span><span class="ff7">A</span></span></span></span></div><div class="t m0 x4c h7 y30b ffb fs7 fc1 sc0 ls0 ws0">5<span class="_ _2f"> </span><span class="ff7 fs2">A<span class="_ _8"> </span><span class="ff8">←<span class="_ _8"> </span></span>A<span class="_ _10"> </span><span class="ff8">\<span class="_ _10"></span><span class="ff4">X<span class="ff5">//<span class="_"> </span>rem<span class="_ _3"></span>ove<span class="_"> </span></span>X<span class="_ _1b"> </span><span class="ff5">from<span class="_"> </span></span></span></span>A</span></div><div class="t m0 x4c h13 y1d4 ffb fs7 fc1 sc0 ls0 ws0">6<span class="_ _2f"> </span><span class="ff9 fs2">c<span class="_ _6"> </span><span class="ff8">←<span class="_ _8"></span><span class="ff4">sup</span></span>(<span class="ff4">Z</span>)/<span class="ff4">sup</span>(<span class="ff4">X</span>)</span></div><div class="t m0 x4c h13 y30c ffb fs7 fc1 sc0 ls0 ws0">7<span class="_ _2f"> </span><span class="fs2">if<span class="_ _9"> </span><span class="ff9">c<span class="_ _8"> </span><span class="ff8">≥<span class="_ _6"> </span><span class="ff4">minconf<span class="_ _6"> </span></span></span></span>then</span></div><div class="t m0 x8a h4 y30d ffb fs7 fc1 sc0 ls0 ws0">8<span class="_ _48"> </span><span class="ff3 fs2">print<span class="_ _6"> </span><span class="ff4">X<span class="_ _6"> </span><span class="ff8">−<span class="_ _2c"></span>→<span class="_ _8"></span><span class="ff4">Y<span class="ff3">,<span class="_ _6"> </span></span>sup<span class="ff9">(</span>Z<span class="ff9">)<span class="_"> </span><span class="ff3">,<span class="_ _9"> </span></span>c</span></span></span></span></span></div><div class="t m0 x4c h11 y30e ffb fs7 fc1 sc0 ls0 ws0">9<span class="_ _2f"> </span><span class="fs2">else</span></div><div class="t m0 x4a h7 y242 ffb fs7 fc1 sc0 ls0 ws0">10<span class="_ _48"> </span><span class="ff7 fs2">A<span class="_ _8"> </span><span class="ff8">←<span class="_ _8"> </span></span>A<span class="_ _10"> </span><span class="ff8">\</span></span></div><div class="t m0 x7c h14 y244 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 x74 h13 y242 ff4 fs2 fc1 sc0 ls0 ws0">W<span class="_ _8"> </span><span class="ff8">|<span class="_ _6"> </span></span>W<span class="_ _8"> </span><span class="ff8">⊂<span class="_ _8"></span></span>X</div><div class="t m0 x3e h14 y244 ffd fs2 fc1 sc0 ls0 ws0"></div><div class="t m0 xcd h7 y242 ff5 fs2 fc1 sc0 ls0 ws0">//<span class="_"> </span>remov<span class="_ _3"></span>e<span class="_"> </span>subsets<span class="_"> </span>of<span class="_"> </span><span class="ff4">X<span class="_ _1b"> </span></span>from<span class="_"> </span><span class="ff7">A</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
